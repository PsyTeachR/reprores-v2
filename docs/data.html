<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Working with Data | Data Skills for Reproducible Research</title>
  <meta name="description" content="This book provides an overview of skills needed for reproducible research and open science using the statistical programming language R and tidyverse packages. It covers data visualisation, data tidying and wrangling, archiving, iteration and functions, probability and data simulations, general linear models, and reproducible workflows." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Working with Data | Data Skills for Reproducible Research" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book provides an overview of skills needed for reproducible research and open science using the statistical programming language R and tidyverse packages. It covers data visualisation, data tidying and wrangling, archiving, iteration and functions, probability and data simulations, general linear models, and reproducible workflows." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Working with Data | Data Skills for Reproducible Research" />
  
  <meta name="twitter:description" content="This book provides an overview of skills needed for reproducible research and open science using the statistical programming language R and tidyverse packages. It covers data visualisation, data tidying and wrangling, archiving, iteration and functions, probability and data simulations, general linear models, and reproducible workflows." />
  



<meta name="date" content="2021-08-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ggplot.html"/>
<link rel="next" href="joins.html"/>
<script src="libs/header-attrs-2.9.4/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.4.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<meta property="og:title" content="Chapter 3 Working with Data | Data Skills for Reproducible Research">
<meta property="og:description" content="This book provides an overview of skills needed for reproducible research and open science using the statistical programming language R and tidyverse packages. It covers data visualisation, data tidying and wrangling, archiving, iteration and functions, probability and data simulations, general linear models, and reproducible workflows.">
<meta property="og:image" content="https://psyteachr.github.io/reprores-v2/images/twitter_card.png">
<meta property="og:url" content="https://psyteachr.github.io/reprores-v2/">
<meta property="twitter:card" content="summary_large_image">

<link rel="shortcut icon" href="https://psyteachr.github.io/reprores-v2/images/logo.png">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6NP3MF25W3');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="include/psyteachr.css" type="text/css" />
<link rel="stylesheet" href="include/style.css" type="text/css" />
<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Skills for Reproducible Research</a></li>
<li><a href="https://zenodo.org/badge/latestdoi/166541547"><img src="https://zenodo.org/badge/166541547.svg" alt="DOI"></a></li>
<li><a href="https://www.youtube.com/playlist?list=PLA2iRWVwbpTIweEBHD2dOKjZHK1atRmXt">Video Playlist</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-resources"><i class="fa fa-check"></i>Course Resources</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#i-found-a-bug"><i class="fa fa-check"></i>I found a bug!</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li><a href="intro.html#intro"><strong>0</strong> Getting Started</a>
<ul>
<li class="chapter" data-level="0.1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>0.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="0.2" data-path="intro.html"><a href="intro.html#resources-intro"><i class="fa fa-check"></i><b>0.2</b> Resources</a></li>
<li class="chapter" data-level="0.3" data-path="intro.html"><a href="intro.html#what-is-r"><i class="fa fa-check"></i><b>0.3</b> What is R?</a>
<ul>
<li class="chapter" data-level="0.3.1" data-path="intro.html"><a href="intro.html#rconsole"><i class="fa fa-check"></i><b>0.3.1</b> The Base R Console</a></li>
<li class="chapter" data-level="0.3.2" data-path="intro.html"><a href="intro.html#rstudio_ide"><i class="fa fa-check"></i><b>0.3.2</b> RStudio</a></li>
<li class="chapter" data-level="0.3.3" data-path="intro.html"><a href="intro.html#configure-rstudio"><i class="fa fa-check"></i><b>0.3.3</b> Configure RStudio</a></li>
</ul></li>
<li class="chapter" data-level="0.4" data-path="intro.html"><a href="intro.html#getting-started"><i class="fa fa-check"></i><b>0.4</b> Getting Started</a>
<ul>
<li class="chapter" data-level="0.4.1" data-path="intro.html"><a href="intro.html#console"><i class="fa fa-check"></i><b>0.4.1</b> Console commands</a></li>
<li class="chapter" data-level="0.4.2" data-path="intro.html"><a href="intro.html#vars"><i class="fa fa-check"></i><b>0.4.2</b> Objects</a></li>
<li class="chapter" data-level="0.4.3" data-path="intro.html"><a href="intro.html#the-environment"><i class="fa fa-check"></i><b>0.4.3</b> The environment</a></li>
<li class="chapter" data-level="0.4.4" data-path="intro.html"><a href="intro.html#whitespace"><i class="fa fa-check"></i><b>0.4.4</b> Whitespace</a></li>
<li class="chapter" data-level="0.4.5" data-path="intro.html"><a href="intro.html#function_syx"><i class="fa fa-check"></i><b>0.4.5</b> Function syntax</a></li>
<li class="chapter" data-level="0.4.6" data-path="intro.html"><a href="intro.html#help"><i class="fa fa-check"></i><b>0.4.6</b> Getting help</a></li>
</ul></li>
<li class="chapter" data-level="0.5" data-path="intro.html"><a href="intro.html#install-package"><i class="fa fa-check"></i><b>0.5</b> Add-on packages</a>
<ul>
<li class="chapter" data-level="0.5.1" data-path="intro.html"><a href="intro.html#installing-a-package"><i class="fa fa-check"></i><b>0.5.1</b> Installing a package</a></li>
<li class="chapter" data-level="0.5.2" data-path="intro.html"><a href="intro.html#loading-a-package"><i class="fa fa-check"></i><b>0.5.2</b> Loading a package</a></li>
<li class="chapter" data-level="0.5.3" data-path="intro.html"><a href="intro.html#install-from-github"><i class="fa fa-check"></i><b>0.5.3</b> Install from GitHub</a></li>
</ul></li>
<li class="chapter" data-level="0.6" data-path="intro.html"><a href="intro.html#glossaryintro"><i class="fa fa-check"></i><b>0.6</b> Glossary</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="repro.html"><a href="repro.html"><i class="fa fa-check"></i><b>1</b> Reproducible Workflows</a>
<ul>
<li class="chapter" data-level="1.1" data-path="repro.html"><a href="repro.html#ilo-repro"><i class="fa fa-check"></i><b>1.1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="repro.html"><a href="repro.html#basic"><i class="fa fa-check"></i><b>1.1.1</b> Basic</a></li>
<li class="chapter" data-level="1.1.2" data-path="repro.html"><a href="repro.html#intermediate"><i class="fa fa-check"></i><b>1.1.2</b> Intermediate</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="repro.html"><a href="repro.html#resources-repro"><i class="fa fa-check"></i><b>1.2</b> Resources</a></li>
<li class="chapter" data-level="1.3" data-path="repro.html"><a href="repro.html#setup-repro"><i class="fa fa-check"></i><b>1.3</b> Setup</a></li>
<li class="chapter" data-level="1.4" data-path="repro.html"><a href="repro.html#why-learn-reproducible-reports"><i class="fa fa-check"></i><b>1.4</b> Why learn reproducible reports?</a></li>
<li class="chapter" data-level="1.5" data-path="repro.html"><a href="repro.html#projects"><i class="fa fa-check"></i><b>1.5</b> Organising a project</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="repro.html"><a href="repro.html#working-directory"><i class="fa fa-check"></i><b>1.5.1</b> Working Directory</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="repro.html"><a href="repro.html#r-markdown"><i class="fa fa-check"></i><b>1.6</b> R Markdown</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="repro.html"><a href="repro.html#yaml-header"><i class="fa fa-check"></i><b>1.6.1</b> YAML Header</a></li>
<li class="chapter" data-level="1.6.2" data-path="repro.html"><a href="repro.html#setup"><i class="fa fa-check"></i><b>1.6.2</b> Setup</a></li>
<li class="chapter" data-level="1.6.3" data-path="repro.html"><a href="repro.html#structure"><i class="fa fa-check"></i><b>1.6.3</b> Structure</a></li>
<li class="chapter" data-level="1.6.4" data-path="repro.html"><a href="repro.html#code-chunks"><i class="fa fa-check"></i><b>1.6.4</b> Code Chunks</a></li>
<li class="chapter" data-level="1.6.5" data-path="repro.html"><a href="repro.html#bibliography"><i class="fa fa-check"></i><b>1.6.5</b> Bibliography</a></li>
<li class="chapter" data-level="1.6.6" data-path="repro.html"><a href="repro.html#output-formats"><i class="fa fa-check"></i><b>1.6.6</b> Output Formats</a></li>
<li class="chapter" data-level="1.6.7" data-path="repro.html"><a href="repro.html#computational-reproducibility"><i class="fa fa-check"></i><b>1.6.7</b> Computational Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="repro.html"><a href="repro.html#glossary-repro"><i class="fa fa-check"></i><b>1.7</b> Glossary</a></li>
<li class="chapter" data-level="1.8" data-path="repro.html"><a href="repro.html#exercises-repro"><i class="fa fa-check"></i><b>1.8</b> Exercises</a></li>
<li class="chapter" data-level="1.9" data-path="repro.html"><a href="repro.html#references"><i class="fa fa-check"></i><b>1.9</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>2</b> Data Visualisation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ggplot.html"><a href="ggplot.html#ilo_ggplot"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="ggplot.html"><a href="ggplot.html#basic-1"><i class="fa fa-check"></i><b>2.1.1</b> Basic</a></li>
<li class="chapter" data-level="2.1.2" data-path="ggplot.html"><a href="ggplot.html#intermediate-1"><i class="fa fa-check"></i><b>2.1.2</b> Intermediate</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="ggplot.html"><a href="ggplot.html#resources3"><i class="fa fa-check"></i><b>2.2</b> Resources</a></li>
<li class="chapter" data-level="2.3" data-path="ggplot.html"><a href="ggplot.html#setup_ggplot"><i class="fa fa-check"></i><b>2.3</b> Setup</a></li>
<li class="chapter" data-level="2.4" data-path="ggplot.html"><a href="ggplot.html#vartypes"><i class="fa fa-check"></i><b>2.4</b> Common Variable Combinations</a></li>
<li class="chapter" data-level="2.5" data-path="ggplot.html"><a href="ggplot.html#basic-plots"><i class="fa fa-check"></i><b>2.5</b> Basic Plots</a></li>
<li class="chapter" data-level="2.6" data-path="ggplot.html"><a href="ggplot.html#ggplots"><i class="fa fa-check"></i><b>2.6</b> GGplots</a></li>
<li class="chapter" data-level="2.7" data-path="ggplot.html"><a href="ggplot.html#common-plot-types"><i class="fa fa-check"></i><b>2.7</b> Common Plot Types</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="ggplot.html"><a href="ggplot.html#geom_bar"><i class="fa fa-check"></i><b>2.7.1</b> Bar plot</a></li>
<li class="chapter" data-level="2.7.2" data-path="ggplot.html"><a href="ggplot.html#geom_density"><i class="fa fa-check"></i><b>2.7.2</b> Density plot</a></li>
<li class="chapter" data-level="2.7.3" data-path="ggplot.html"><a href="ggplot.html#geom_freqpoly"><i class="fa fa-check"></i><b>2.7.3</b> Frequency polygons</a></li>
<li class="chapter" data-level="2.7.4" data-path="ggplot.html"><a href="ggplot.html#geom_histogram"><i class="fa fa-check"></i><b>2.7.4</b> Histogram</a></li>
<li class="chapter" data-level="2.7.5" data-path="ggplot.html"><a href="ggplot.html#geom_col"><i class="fa fa-check"></i><b>2.7.5</b> Column plot</a></li>
<li class="chapter" data-level="2.7.6" data-path="ggplot.html"><a href="ggplot.html#geom_boxplot"><i class="fa fa-check"></i><b>2.7.6</b> Boxplot</a></li>
<li class="chapter" data-level="2.7.7" data-path="ggplot.html"><a href="ggplot.html#geom_violin"><i class="fa fa-check"></i><b>2.7.7</b> Violin plot</a></li>
<li class="chapter" data-level="2.7.8" data-path="ggplot.html"><a href="ggplot.html#vertical_intervals"><i class="fa fa-check"></i><b>2.7.8</b> Vertical intervals</a></li>
<li class="chapter" data-level="2.7.9" data-path="ggplot.html"><a href="ggplot.html#geom_point"><i class="fa fa-check"></i><b>2.7.9</b> Scatter plot</a></li>
<li class="chapter" data-level="2.7.10" data-path="ggplot.html"><a href="ggplot.html#geom_smooth"><i class="fa fa-check"></i><b>2.7.10</b> Line graph</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="ggplot.html"><a href="ggplot.html#customisation"><i class="fa fa-check"></i><b>2.8</b> Customisation</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="ggplot.html"><a href="ggplot.html#custom-size"><i class="fa fa-check"></i><b>2.8.1</b> Size and Position</a></li>
<li class="chapter" data-level="2.8.2" data-path="ggplot.html"><a href="ggplot.html#custom-labels"><i class="fa fa-check"></i><b>2.8.2</b> Labels</a></li>
<li class="chapter" data-level="2.8.3" data-path="ggplot.html"><a href="ggplot.html#custom-colours"><i class="fa fa-check"></i><b>2.8.3</b> Colours</a></li>
<li class="chapter" data-level="2.8.4" data-path="ggplot.html"><a href="ggplot.html#themes"><i class="fa fa-check"></i><b>2.8.4</b> Themes</a></li>
<li class="chapter" data-level="2.8.5" data-path="ggplot.html"><a href="ggplot.html#ggsave"><i class="fa fa-check"></i><b>2.8.5</b> Save as file</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="ggplot.html"><a href="ggplot.html#combo_plots"><i class="fa fa-check"></i><b>2.9</b> Combination Plots</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="ggplot.html"><a href="ggplot.html#violinbox-plot"><i class="fa fa-check"></i><b>2.9.1</b> Violinbox plot</a></li>
<li class="chapter" data-level="2.9.2" data-path="ggplot.html"><a href="ggplot.html#violin-point-range-plot"><i class="fa fa-check"></i><b>2.9.2</b> Violin-point-range plot</a></li>
<li class="chapter" data-level="2.9.3" data-path="ggplot.html"><a href="ggplot.html#violin-jitter-plot"><i class="fa fa-check"></i><b>2.9.3</b> Violin-jitter plot</a></li>
<li class="chapter" data-level="2.9.4" data-path="ggplot.html"><a href="ggplot.html#scatter-line-graph"><i class="fa fa-check"></i><b>2.9.4</b> Scatter-line graph</a></li>
<li class="chapter" data-level="2.9.5" data-path="ggplot.html"><a href="ggplot.html#plot_grid"><i class="fa fa-check"></i><b>2.9.5</b> Grid of plots</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="ggplot.html"><a href="ggplot.html#overlap"><i class="fa fa-check"></i><b>2.10</b> Overlapping Discrete Data</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="ggplot.html"><a href="ggplot.html#reducing-opacity"><i class="fa fa-check"></i><b>2.10.1</b> Reducing Opacity</a></li>
<li class="chapter" data-level="2.10.2" data-path="ggplot.html"><a href="ggplot.html#geom_count"><i class="fa fa-check"></i><b>2.10.2</b> Proportional Dot Plots</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="ggplot.html"><a href="ggplot.html#overlapping-continuous-data"><i class="fa fa-check"></i><b>2.11</b> Overlapping Continuous Data</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="ggplot.html"><a href="ggplot.html#geom_density2d"><i class="fa fa-check"></i><b>2.11.1</b> 2D Density Plot</a></li>
<li class="chapter" data-level="2.11.2" data-path="ggplot.html"><a href="ggplot.html#geom_bin2d"><i class="fa fa-check"></i><b>2.11.2</b> 2D Histogram</a></li>
<li class="chapter" data-level="2.11.3" data-path="ggplot.html"><a href="ggplot.html#geom_hex"><i class="fa fa-check"></i><b>2.11.3</b> Hexagonal Heatmap</a></li>
<li class="chapter" data-level="2.11.4" data-path="ggplot.html"><a href="ggplot.html#geom_tile"><i class="fa fa-check"></i><b>2.11.4</b> Correlation Heatmap</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="ggplot.html"><a href="ggplot.html#plotly"><i class="fa fa-check"></i><b>2.12</b> Interactive Plots</a></li>
<li class="chapter" data-level="2.13" data-path="ggplot.html"><a href="ggplot.html#glossary-ggplot"><i class="fa fa-check"></i><b>2.13</b> Glossary</a></li>
<li class="chapter" data-level="2.14" data-path="ggplot.html"><a href="ggplot.html#exercises-ggplot"><i class="fa fa-check"></i><b>2.14</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Working with Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#ilo2"><i class="fa fa-check"></i><b>3.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#resources2"><i class="fa fa-check"></i><b>3.2</b> Resources</a></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#setup2"><i class="fa fa-check"></i><b>3.3</b> Setup</a></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#data-tables"><i class="fa fa-check"></i><b>3.4</b> Data tables</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data.html"><a href="data.html#builtin"><i class="fa fa-check"></i><b>3.4.1</b> Built-in data</a></li>
<li class="chapter" data-level="3.4.2" data-path="data.html"><a href="data.html#import_data"><i class="fa fa-check"></i><b>3.4.2</b> Importing data</a></li>
<li class="chapter" data-level="3.4.3" data-path="data.html"><a href="data.html#creating-data"><i class="fa fa-check"></i><b>3.4.3</b> Creating data</a></li>
<li class="chapter" data-level="3.4.4" data-path="data.html"><a href="data.html#writing-data"><i class="fa fa-check"></i><b>3.4.4</b> Writing Data</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data.html"><a href="data.html#data_types"><i class="fa fa-check"></i><b>3.5</b> Basic data types</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data.html"><a href="data.html#numeric-data"><i class="fa fa-check"></i><b>3.5.1</b> Numeric data</a></li>
<li class="chapter" data-level="3.5.2" data-path="data.html"><a href="data.html#character-data"><i class="fa fa-check"></i><b>3.5.2</b> Character data</a></li>
<li class="chapter" data-level="3.5.3" data-path="data.html"><a href="data.html#logical-data"><i class="fa fa-check"></i><b>3.5.3</b> Logical Data</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data.html"><a href="data.html#containers"><i class="fa fa-check"></i><b>3.6</b> Basic container types</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data.html"><a href="data.html#vectors"><i class="fa fa-check"></i><b>3.6.1</b> Vectors</a></li>
<li class="chapter" data-level="3.6.2" data-path="data.html"><a href="data.html#lists"><i class="fa fa-check"></i><b>3.6.2</b> Lists</a></li>
<li class="chapter" data-level="3.6.3" data-path="repro.html"><a href="repro.html#tables"><i class="fa fa-check"></i><b>3.6.3</b> Tables</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data.html"><a href="data.html#troubleshooting"><i class="fa fa-check"></i><b>3.7</b> Troubleshooting</a></li>
<li class="chapter" data-level="3.8" data-path="data.html"><a href="data.html#glossary-data"><i class="fa fa-check"></i><b>3.8</b> Glossary</a></li>
<li class="chapter" data-level="3.9" data-path="data.html"><a href="data.html#exercises-data"><i class="fa fa-check"></i><b>3.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="joins.html"><a href="joins.html"><i class="fa fa-check"></i><b>4</b> Data Relations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="joins.html"><a href="joins.html#ilo-joins"><i class="fa fa-check"></i><b>4.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="joins.html"><a href="joins.html#resources6"><i class="fa fa-check"></i><b>4.2</b> Resources</a></li>
<li class="chapter" data-level="4.3" data-path="joins.html"><a href="joins.html#setup-joins"><i class="fa fa-check"></i><b>4.3</b> Setup</a></li>
<li class="chapter" data-level="4.4" data-path="joins.html"><a href="joins.html#data-1"><i class="fa fa-check"></i><b>4.4</b> Data</a></li>
<li class="chapter" data-level="4.5" data-path="joins.html"><a href="joins.html#mutating-joins"><i class="fa fa-check"></i><b>4.5</b> Mutating Joins</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="joins.html"><a href="joins.html#left_join"><i class="fa fa-check"></i><b>4.5.1</b> left_join()</a></li>
<li class="chapter" data-level="4.5.2" data-path="joins.html"><a href="joins.html#right_join"><i class="fa fa-check"></i><b>4.5.2</b> right_join()</a></li>
<li class="chapter" data-level="4.5.3" data-path="joins.html"><a href="joins.html#inner_join"><i class="fa fa-check"></i><b>4.5.3</b> inner_join()</a></li>
<li class="chapter" data-level="4.5.4" data-path="joins.html"><a href="joins.html#full_join"><i class="fa fa-check"></i><b>4.5.4</b> full_join()</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="joins.html"><a href="joins.html#filtering-joins"><i class="fa fa-check"></i><b>4.6</b> Filtering Joins</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="joins.html"><a href="joins.html#semi_join"><i class="fa fa-check"></i><b>4.6.1</b> semi_join()</a></li>
<li class="chapter" data-level="4.6.2" data-path="joins.html"><a href="joins.html#anti_join"><i class="fa fa-check"></i><b>4.6.2</b> anti_join()</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="joins.html"><a href="joins.html#binding-joins"><i class="fa fa-check"></i><b>4.7</b> Binding Joins</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="joins.html"><a href="joins.html#bind_rows"><i class="fa fa-check"></i><b>4.7.1</b> bind_rows()</a></li>
<li class="chapter" data-level="4.7.2" data-path="joins.html"><a href="joins.html#bind_cols"><i class="fa fa-check"></i><b>4.7.2</b> bind_cols()</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="joins.html"><a href="joins.html#set-operations"><i class="fa fa-check"></i><b>4.8</b> Set Operations</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="joins.html"><a href="joins.html#intersect"><i class="fa fa-check"></i><b>4.8.1</b> intersect()</a></li>
<li class="chapter" data-level="4.8.2" data-path="joins.html"><a href="joins.html#union"><i class="fa fa-check"></i><b>4.8.2</b> union()</a></li>
<li class="chapter" data-level="4.8.3" data-path="joins.html"><a href="joins.html#setdiff"><i class="fa fa-check"></i><b>4.8.3</b> setdiff()</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="joins.html"><a href="joins.html#glossary-joins"><i class="fa fa-check"></i><b>4.9</b> Glossary</a></li>
<li class="chapter" data-level="4.10" data-path="joins.html"><a href="joins.html#exercises-joins"><i class="fa fa-check"></i><b>4.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>5</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tidyr.html"><a href="tidyr.html#ilo-tidyr"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="tidyr.html"><a href="tidyr.html#basic-2"><i class="fa fa-check"></i><b>5.1.1</b> Basic</a></li>
<li class="chapter" data-level="5.1.2" data-path="tidyr.html"><a href="tidyr.html#advanced"><i class="fa fa-check"></i><b>5.1.2</b> Advanced</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="tidyr.html"><a href="tidyr.html#resources-tidyr"><i class="fa fa-check"></i><b>5.2</b> Resources</a></li>
<li class="chapter" data-level="5.3" data-path="tidyr.html"><a href="tidyr.html#setup-tidyr"><i class="fa fa-check"></i><b>5.3</b> Setup</a></li>
<li class="chapter" data-level="5.4" data-path="tidyr.html"><a href="tidyr.html#tidy-data"><i class="fa fa-check"></i><b>5.4</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="tidyr.html"><a href="tidyr.html#three-rules"><i class="fa fa-check"></i><b>5.4.1</b> Three Rules</a></li>
<li class="chapter" data-level="5.4.2" data-path="tidyr.html"><a href="tidyr.html#wide_long"><i class="fa fa-check"></i><b>5.4.2</b> Wide versus long</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="tidyr.html"><a href="tidyr.html#pivot"><i class="fa fa-check"></i><b>5.5</b> Pivot Functions</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="tidyr.html"><a href="tidyr.html#load-data"><i class="fa fa-check"></i><b>5.5.1</b> Load Data</a></li>
<li class="chapter" data-level="5.5.2" data-path="tidyr.html"><a href="tidyr.html#pivot_longer"><i class="fa fa-check"></i><b>5.5.2</b> pivot_longer()</a></li>
<li class="chapter" data-level="5.5.3" data-path="tidyr.html"><a href="tidyr.html#pivot_wider"><i class="fa fa-check"></i><b>5.5.3</b> pivot_wider()</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="tidyr.html"><a href="tidyr.html#tidy-verbs"><i class="fa fa-check"></i><b>5.6</b> Tidy Verbs</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="tidyr.html"><a href="tidyr.html#gather"><i class="fa fa-check"></i><b>5.6.1</b> gather()</a></li>
<li class="chapter" data-level="5.6.2" data-path="tidyr.html"><a href="tidyr.html#separate"><i class="fa fa-check"></i><b>5.6.2</b> separate()</a></li>
<li class="chapter" data-level="5.6.3" data-path="tidyr.html"><a href="tidyr.html#unite"><i class="fa fa-check"></i><b>5.6.3</b> unite()</a></li>
<li class="chapter" data-level="5.6.4" data-path="tidyr.html"><a href="tidyr.html#spread"><i class="fa fa-check"></i><b>5.6.4</b> spread()</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="tidyr.html"><a href="tidyr.html#pipes"><i class="fa fa-check"></i><b>5.7</b> Pipes</a></li>
<li class="chapter" data-level="5.8" data-path="tidyr.html"><a href="tidyr.html#more-complex-example"><i class="fa fa-check"></i><b>5.8</b> More Complex Example</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="tidyr.html"><a href="tidyr.html#load-data-1"><i class="fa fa-check"></i><b>5.8.1</b> Load Data</a></li>
<li class="chapter" data-level="5.8.2" data-path="tidyr.html"><a href="tidyr.html#wide-to-long"><i class="fa fa-check"></i><b>5.8.2</b> Wide to Long</a></li>
<li class="chapter" data-level="5.8.3" data-path="tidyr.html"><a href="tidyr.html#one-piece-of-data-per-column"><i class="fa fa-check"></i><b>5.8.3</b> One Piece of Data per Column</a></li>
<li class="chapter" data-level="5.8.4" data-path="tidyr.html"><a href="tidyr.html#all-in-one-step"><i class="fa fa-check"></i><b>5.8.4</b> All in one step</a></li>
<li class="chapter" data-level="5.8.5" data-path="tidyr.html"><a href="tidyr.html#columns-by-year"><i class="fa fa-check"></i><b>5.8.5</b> Columns by Year</a></li>
<li class="chapter" data-level="5.8.6" data-path="tidyr.html"><a href="tidyr.html#experimentum-data"><i class="fa fa-check"></i><b>5.8.6</b> Experimentum Data</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="tidyr.html"><a href="tidyr.html#glossary-tidyr"><i class="fa fa-check"></i><b>5.9</b> Glossary</a></li>
<li class="chapter" data-level="5.10" data-path="tidyr.html"><a href="tidyr.html#exercises-tidyr"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>6</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="6.1" data-path="dplyr.html"><a href="dplyr.html#ilo-dplyr"><i class="fa fa-check"></i><b>6.1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="dplyr.html"><a href="dplyr.html#basic-3"><i class="fa fa-check"></i><b>6.1.1</b> Basic</a></li>
<li class="chapter" data-level="6.1.2" data-path="dplyr.html"><a href="dplyr.html#intermediate-2"><i class="fa fa-check"></i><b>6.1.2</b> Intermediate</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="dplyr.html"><a href="dplyr.html#resources5"><i class="fa fa-check"></i><b>6.2</b> Resources</a></li>
<li class="chapter" data-level="6.3" data-path="dplyr.html"><a href="dplyr.html#setup-dplyr"><i class="fa fa-check"></i><b>6.3</b> Setup</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="dplyr.html"><a href="dplyr.html#data-disgust"><i class="fa fa-check"></i><b>6.3.1</b> The <code>disgust</code> dataset</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="dplyr.html"><a href="dplyr.html#six-main-dplyr-verbs"><i class="fa fa-check"></i><b>6.4</b> Six main dplyr verbs</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>6.4.1</b> select()</a></li>
<li class="chapter" data-level="6.4.2" data-path="dplyr.html"><a href="dplyr.html#filter"><i class="fa fa-check"></i><b>6.4.2</b> filter()</a></li>
<li class="chapter" data-level="6.4.3" data-path="dplyr.html"><a href="dplyr.html#arrange"><i class="fa fa-check"></i><b>6.4.3</b> arrange()</a></li>
<li class="chapter" data-level="6.4.4" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>6.4.4</b> mutate()</a></li>
<li class="chapter" data-level="6.4.5" data-path="dplyr.html"><a href="dplyr.html#summarise"><i class="fa fa-check"></i><b>6.4.5</b> summarise()</a></li>
<li class="chapter" data-level="6.4.6" data-path="dplyr.html"><a href="dplyr.html#group_by"><i class="fa fa-check"></i><b>6.4.6</b> group_by()</a></li>
<li class="chapter" data-level="6.4.7" data-path="dplyr.html"><a href="dplyr.html#all-together"><i class="fa fa-check"></i><b>6.4.7</b> All Together</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="dplyr.html"><a href="dplyr.html#additional-dplyr-one-table-verbs"><i class="fa fa-check"></i><b>6.5</b> Additional dplyr one-table verbs</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="dplyr.html"><a href="dplyr.html#rename"><i class="fa fa-check"></i><b>6.5.1</b> rename()</a></li>
<li class="chapter" data-level="6.5.2" data-path="dplyr.html"><a href="dplyr.html#distinct"><i class="fa fa-check"></i><b>6.5.2</b> distinct()</a></li>
<li class="chapter" data-level="6.5.3" data-path="dplyr.html"><a href="dplyr.html#count"><i class="fa fa-check"></i><b>6.5.3</b> count()</a></li>
<li class="chapter" data-level="6.5.4" data-path="dplyr.html"><a href="dplyr.html#slice"><i class="fa fa-check"></i><b>6.5.4</b> slice()</a></li>
<li class="chapter" data-level="6.5.5" data-path="dplyr.html"><a href="dplyr.html#pull"><i class="fa fa-check"></i><b>6.5.5</b> pull()</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="dplyr.html"><a href="dplyr.html#window"><i class="fa fa-check"></i><b>6.6</b> Window functions</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="dplyr.html"><a href="dplyr.html#ranking-functions"><i class="fa fa-check"></i><b>6.6.1</b> Ranking functions</a></li>
<li class="chapter" data-level="6.6.2" data-path="dplyr.html"><a href="dplyr.html#offset-functions"><i class="fa fa-check"></i><b>6.6.2</b> Offset functions</a></li>
<li class="chapter" data-level="6.6.3" data-path="dplyr.html"><a href="dplyr.html#cumulative-aggregates"><i class="fa fa-check"></i><b>6.6.3</b> Cumulative aggregates</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="dplyr.html"><a href="dplyr.html#glossary-dplyr"><i class="fa fa-check"></i><b>6.7</b> Glossary</a></li>
<li class="chapter" data-level="6.8" data-path="dplyr.html"><a href="dplyr.html#exercises-dplyr"><i class="fa fa-check"></i><b>6.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>7</b> Introduction to GLM</a>
<ul>
<li class="chapter" data-level="7.1" data-path="glm.html"><a href="glm.html#ilo9"><i class="fa fa-check"></i><b>7.1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="glm.html"><a href="glm.html#basic-4"><i class="fa fa-check"></i><b>7.1.1</b> Basic</a></li>
<li class="chapter" data-level="7.1.2" data-path="glm.html"><a href="glm.html#intermediate-3"><i class="fa fa-check"></i><b>7.1.2</b> Intermediate</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="glm.html"><a href="glm.html#resources9"><i class="fa fa-check"></i><b>7.2</b> Resources</a></li>
<li class="chapter" data-level="7.3" data-path="glm.html"><a href="glm.html#setup9"><i class="fa fa-check"></i><b>7.3</b> Setup</a></li>
<li class="chapter" data-level="7.4" data-path="glm.html"><a href="glm.html#glm-1"><i class="fa fa-check"></i><b>7.4</b> GLM</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="glm.html"><a href="glm.html#what-is-the-glm"><i class="fa fa-check"></i><b>7.4.1</b> What is the GLM?</a></li>
<li class="chapter" data-level="7.4.2" data-path="glm.html"><a href="glm.html#glm-components"><i class="fa fa-check"></i><b>7.4.2</b> Components</a></li>
<li class="chapter" data-level="7.4.3" data-path="glm.html"><a href="glm.html#sim-glm"><i class="fa fa-check"></i><b>7.4.3</b> Simulating data from GLM</a></li>
<li class="chapter" data-level="7.4.4" data-path="glm.html"><a href="glm.html#linear-regression"><i class="fa fa-check"></i><b>7.4.4</b> Linear Regression</a></li>
<li class="chapter" data-level="7.4.5" data-path="glm.html"><a href="glm.html#residuals"><i class="fa fa-check"></i><b>7.4.5</b> Residuals</a></li>
<li class="chapter" data-level="7.4.6" data-path="glm.html"><a href="glm.html#predict"><i class="fa fa-check"></i><b>7.4.6</b> Predict New Values</a></li>
<li class="chapter" data-level="7.4.7" data-path="glm.html"><a href="glm.html#coding-schemes"><i class="fa fa-check"></i><b>7.4.7</b> Coding Categorical Variables</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="glm.html"><a href="glm.html#test-rels"><i class="fa fa-check"></i><b>7.5</b> Relationships among tests</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="glm.html"><a href="glm.html#t-test"><i class="fa fa-check"></i><b>7.5.1</b> T-test</a></li>
<li class="chapter" data-level="7.5.2" data-path="glm.html"><a href="glm.html#anova"><i class="fa fa-check"></i><b>7.5.2</b> ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="glm.html"><a href="glm.html#understanding-anova"><i class="fa fa-check"></i><b>7.6</b> Understanding ANOVA</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="glm.html"><a href="glm.html#means-variability-and-deviation-scores"><i class="fa fa-check"></i><b>7.6.1</b> Means, Variability, and Deviation Scores</a></li>
<li class="chapter" data-level="7.6.2" data-path="glm.html"><a href="glm.html#decomp"><i class="fa fa-check"></i><b>7.6.2</b> Decomposition matrices</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="glm.html"><a href="glm.html#glossary-glm"><i class="fa fa-check"></i><b>7.7</b> Glossary</a></li>
<li class="chapter" data-level="7.8" data-path="glm.html"><a href="glm.html#exercises-glm"><i class="fa fa-check"></i><b>7.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="func.html"><a href="func.html"><i class="fa fa-check"></i><b>8</b> Iteration &amp; Functions</a>
<ul>
<li class="chapter" data-level="8.1" data-path="func.html"><a href="func.html#ilo7"><i class="fa fa-check"></i><b>8.1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="func.html"><a href="func.html#basic-5"><i class="fa fa-check"></i><b>8.1.1</b> Basic</a></li>
<li class="chapter" data-level="8.1.2" data-path="func.html"><a href="func.html#intermediate-4"><i class="fa fa-check"></i><b>8.1.2</b> Intermediate</a></li>
<li class="chapter" data-level="8.1.3" data-path="func.html"><a href="func.html#advanced-1"><i class="fa fa-check"></i><b>8.1.3</b> Advanced</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="func.html"><a href="func.html#resources7"><i class="fa fa-check"></i><b>8.2</b> Resources</a></li>
<li class="chapter" data-level="8.3" data-path="func.html"><a href="func.html#setup7"><i class="fa fa-check"></i><b>8.3</b> Setup</a></li>
<li class="chapter" data-level="8.4" data-path="func.html"><a href="func.html#iteration-functions"><i class="fa fa-check"></i><b>8.4</b> Iteration functions</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="func.html"><a href="func.html#rep"><i class="fa fa-check"></i><b>8.4.1</b> rep()</a></li>
<li class="chapter" data-level="8.4.2" data-path="func.html"><a href="func.html#seq"><i class="fa fa-check"></i><b>8.4.2</b> seq()</a></li>
<li class="chapter" data-level="8.4.3" data-path="func.html"><a href="func.html#replicate"><i class="fa fa-check"></i><b>8.4.3</b> replicate()</a></li>
<li class="chapter" data-level="8.4.4" data-path="func.html"><a href="func.html#map-apply"><i class="fa fa-check"></i><b>8.4.4</b> map() and apply() functions</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="func.html"><a href="func.html#custom-functions"><i class="fa fa-check"></i><b>8.5</b> Custom functions</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="func.html"><a href="func.html#structure-function"><i class="fa fa-check"></i><b>8.5.1</b> Structuring a function</a></li>
<li class="chapter" data-level="8.5.2" data-path="func.html"><a href="func.html#arguments"><i class="fa fa-check"></i><b>8.5.2</b> Arguments</a></li>
<li class="chapter" data-level="8.5.3" data-path="func.html"><a href="func.html#defaults"><i class="fa fa-check"></i><b>8.5.3</b> Argument defaults</a></li>
<li class="chapter" data-level="8.5.4" data-path="func.html"><a href="func.html#scope"><i class="fa fa-check"></i><b>8.5.4</b> Scope</a></li>
<li class="chapter" data-level="8.5.5" data-path="func.html"><a href="func.html#warnings-errors"><i class="fa fa-check"></i><b>8.5.5</b> Warnings and errors</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="func.html"><a href="func.html#iterating-your-own-functions"><i class="fa fa-check"></i><b>8.6</b> Iterating your own functions</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="func.html"><a href="func.html#rnorm"><i class="fa fa-check"></i><b>8.6.1</b> rnorm()</a></li>
<li class="chapter" data-level="8.6.2" data-path="func.html"><a href="func.html#tibbletibble"><i class="fa fa-check"></i><b>8.6.2</b> tibble::tibble()</a></li>
<li class="chapter" data-level="8.6.3" data-path="func.html"><a href="func.html#t.test"><i class="fa fa-check"></i><b>8.6.3</b> t.test()</a></li>
<li class="chapter" data-level="8.6.4" data-path="func.html"><a href="func.html#broomtidy"><i class="fa fa-check"></i><b>8.6.4</b> broom::tidy()</a></li>
<li class="chapter" data-level="8.6.5" data-path="func.html"><a href="func.html#custom-function-t_sim"><i class="fa fa-check"></i><b>8.6.5</b> Custom function: t_sim()</a></li>
<li class="chapter" data-level="8.6.6" data-path="func.html"><a href="func.html#iterate-t_sim"><i class="fa fa-check"></i><b>8.6.6</b> Iterate t_sim()</a></li>
<li class="chapter" data-level="8.6.7" data-path="func.html"><a href="func.html#seed"><i class="fa fa-check"></i><b>8.6.7</b> Set seed</a></li>
<li class="chapter" data-level="8.6.8" data-path="func.html"><a href="func.html#add-arguments"><i class="fa fa-check"></i><b>8.6.8</b> Add arguments</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="func.html"><a href="func.html#glossary-func"><i class="fa fa-check"></i><b>8.7</b> Glossary</a></li>
<li class="chapter" data-level="8.8" data-path="func.html"><a href="func.html#exercises-func"><i class="fa fa-check"></i><b>8.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="sim.html"><a href="sim.html"><i class="fa fa-check"></i><b>9</b> Probability &amp; Simulation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="sim.html"><a href="sim.html#ilo8"><i class="fa fa-check"></i><b>9.1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="sim.html"><a href="sim.html#basic-6"><i class="fa fa-check"></i><b>9.1.1</b> Basic</a></li>
<li class="chapter" data-level="9.1.2" data-path="sim.html"><a href="sim.html#intermediate-5"><i class="fa fa-check"></i><b>9.1.2</b> Intermediate</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="sim.html"><a href="sim.html#resources8"><i class="fa fa-check"></i><b>9.2</b> Resources</a></li>
<li class="chapter" data-level="9.3" data-path="sim.html"><a href="sim.html#setup8"><i class="fa fa-check"></i><b>9.3</b> Setup</a></li>
<li class="chapter" data-level="9.4" data-path="sim.html"><a href="sim.html#univariate-distributions"><i class="fa fa-check"></i><b>9.4</b> Univariate Distributions</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="sim.html"><a href="sim.html#uniform"><i class="fa fa-check"></i><b>9.4.1</b> Uniform Distribution</a></li>
<li class="chapter" data-level="9.4.2" data-path="sim.html"><a href="sim.html#binomial"><i class="fa fa-check"></i><b>9.4.2</b> Binomial Distribution</a></li>
<li class="chapter" data-level="9.4.3" data-path="sim.html"><a href="sim.html#normal"><i class="fa fa-check"></i><b>9.4.3</b> Normal Distribution</a></li>
<li class="chapter" data-level="9.4.4" data-path="sim.html"><a href="sim.html#poisson"><i class="fa fa-check"></i><b>9.4.4</b> Poisson Distribution</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="sim.html"><a href="sim.html#mvdist"><i class="fa fa-check"></i><b>9.5</b> Multivariate Distributions</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="sim.html"><a href="sim.html#bvn"><i class="fa fa-check"></i><b>9.5.1</b> Bivariate Normal</a></li>
<li class="chapter" data-level="9.5.2" data-path="sim.html"><a href="sim.html#mvnorm"><i class="fa fa-check"></i><b>9.5.2</b> Multivariate Normal</a></li>
<li class="chapter" data-level="9.5.3" data-path="sim.html"><a href="sim.html#faux"><i class="fa fa-check"></i><b>9.5.3</b> Faux</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="sim.html"><a href="sim.html#stat-terms"><i class="fa fa-check"></i><b>9.6</b> Statistical terms</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="sim.html"><a href="sim.html#effect"><i class="fa fa-check"></i><b>9.6.1</b> Effect</a></li>
<li class="chapter" data-level="9.6.2" data-path="sim.html"><a href="sim.html#p-value"><i class="fa fa-check"></i><b>9.6.2</b> P-value</a></li>
<li class="chapter" data-level="9.6.3" data-path="sim.html"><a href="sim.html#alpha"><i class="fa fa-check"></i><b>9.6.3</b> Alpha</a></li>
<li class="chapter" data-level="9.6.4" data-path="sim.html"><a href="sim.html#false-pos"><i class="fa fa-check"></i><b>9.6.4</b> False Positive/Negative</a></li>
<li class="chapter" data-level="9.6.5" data-path="sim.html"><a href="sim.html#power"><i class="fa fa-check"></i><b>9.6.5</b> Power and SESOI</a></li>
<li class="chapter" data-level="9.6.6" data-path="sim.html"><a href="sim.html#conf-int"><i class="fa fa-check"></i><b>9.6.6</b> Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="sim.html"><a href="sim.html#tests"><i class="fa fa-check"></i><b>9.7</b> Tests</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="sim.html"><a href="sim.html#exact-binom"><i class="fa fa-check"></i><b>9.7.1</b> Exact binomial test</a></li>
<li class="chapter" data-level="9.7.2" data-path="glm.html"><a href="glm.html#t-test"><i class="fa fa-check"></i><b>9.7.2</b> T-test</a></li>
<li class="chapter" data-level="9.7.3" data-path="sim.html"><a href="sim.html#correlation"><i class="fa fa-check"></i><b>9.7.3</b> Correlation</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="sim.html"><a href="sim.html#example"><i class="fa fa-check"></i><b>9.8</b> Example</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="sim.html"><a href="sim.html#load-wrangle"><i class="fa fa-check"></i><b>9.8.1</b> Load &amp; wrangle</a></li>
<li class="chapter" data-level="9.8.2" data-path="sim.html"><a href="sim.html#plot"><i class="fa fa-check"></i><b>9.8.2</b> Plot</a></li>
<li class="chapter" data-level="9.8.3" data-path="sim.html"><a href="sim.html#simulate-a-population"><i class="fa fa-check"></i><b>9.8.3</b> Simulate a population</a></li>
<li class="chapter" data-level="9.8.4" data-path="sim.html"><a href="sim.html#analyse-simulated-data"><i class="fa fa-check"></i><b>9.8.4</b> Analyse simulated data</a></li>
<li class="chapter" data-level="9.8.5" data-path="sim.html"><a href="sim.html#replicate-simulation"><i class="fa fa-check"></i><b>9.8.5</b> Replicate simulation</a></li>
<li class="chapter" data-level="9.8.6" data-path="sim.html"><a href="sim.html#one-tailed-prediction"><i class="fa fa-check"></i><b>9.8.6</b> One-tailed prediction</a></li>
<li class="chapter" data-level="9.8.7" data-path="sim.html"><a href="sim.html#range-of-sample-sizes"><i class="fa fa-check"></i><b>9.8.7</b> Range of sample sizes</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="sim.html"><a href="sim.html#glossary-sim"><i class="fa fa-check"></i><b>9.9</b> Glossary</a></li>
<li class="chapter" data-level="9.10" data-path="sim.html"><a href="sim.html#exercises-sim"><i class="fa fa-check"></i><b>9.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a>
<ul>
<li class="chapter" data-level="9.11" data-path="acknowledgements.html"><a href="acknowledgements.html#contributors"><i class="fa fa-check"></i><b>9.11</b> Contributors</a></li>
</ul></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="installingr.html"><a href="installingr.html"><i class="fa fa-check"></i><b>A</b> Installing R</a>
<ul>
<li class="chapter" data-level="A.1" data-path="installingr.html"><a href="installingr.html#installing-base-r"><i class="fa fa-check"></i><b>A.1</b> Installing Base R</a></li>
<li class="chapter" data-level="A.2" data-path="installingr.html"><a href="installingr.html#installing-rstudio"><i class="fa fa-check"></i><b>A.2</b> Installing RStudio</a></li>
<li class="chapter" data-level="A.3" data-path="installingr.html"><a href="installingr.html#installing-latex"><i class="fa fa-check"></i><b>A.3</b> Installing LaTeX</a></li>
<li class="chapter" data-level="A.4" data-path="installingr.html"><a href="installingr.html#rstudio-online"><i class="fa fa-check"></i><b>A.4</b> RStudio Online</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="symbols.html"><a href="symbols.html"><i class="fa fa-check"></i><b>B</b> Symbols</a></li>
<li class="chapter" data-level="C" data-path="exercise-answers.html"><a href="exercise-answers.html"><i class="fa fa-check"></i><b>C</b> Exercise Answers</a></li>
<li class="chapter" data-level="D" data-path="datasets.html"><a href="datasets.html"><i class="fa fa-check"></i><b>D</b> Datasets</a></li>
<li class="chapter" data-level="E" data-path="bookrefs.html"><a href="bookrefs.html"><i class="fa fa-check"></i><b>E</b> References</a></li>
<li class="divider"></li>
<li><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" 
    target="blank"><img alt="Creative Commons License" 
    style="border-width:0" 
    src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><li>
<li><a href="https://psyteachr.github.io/" target="blank">PsyTeachR</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Skills for Reproducible Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Working with Data</h1>
<p><img src="images/memes/read_csv.png" class="meme right"
     alt = "Top left: Pooh Bear in a red shirt looking sad; Top right: read.csv() in outline font; Bottom left: Pooh Bear in a tuxedo looking smug; Bottom right: read_csv() in handwritten font"></p>
<div id="ilo2" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Learning Objectives</h2>
<ol style="list-style-type: decimal">
<li>Load <a href="data.html#builtin">built-in datasets</a> <a href="https://youtu.be/Z5fK5VGmzlY" class="video">(video)</a></li>
<li><a href="data.html#import_data">Import data</a> from CSV and Excel files <a href="https://youtu.be/a7Ra-hnB8l8" class="video">(video)</a></li>
<li>Create a <a href="repro.html#tables">data table</a> <a href="https://youtu.be/k-aqhurepb4" class="video">(video)</a></li>
<li>Understand the use the <a href="data.html#data_types">basic data types</a> <a href="https://youtu.be/jXQrF18Jaac" class="video">(video)</a></li>
<li>Understand and use the <a href="data.html#containers">basic container types</a> (list, vector) <a href="https://youtu.be/4xU7uKNdoig" class="video">(video)</a></li>
<li>Use <a href="data.html#vectorized_ops">vectorized operations</a> <a href="https://youtu.be/9I5MdS7UWmI" class="video">(video)</a></li>
<li>Be able to <a href="#Troubleshooting">troubleshoot</a> common data import problems <a href="https://youtu.be/gcxn4LJ_vAI" class="video">(video)</a></li>
</ol>
</div>
<div id="resources2" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Resources</h2>
<ul>
<li><a href="http://r4ds.had.co.nz/data-import.html">Chapter 11: Data Import</a> in <em>R for Data Science</em></li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/data-import.pdf">RStudio Data Import Cheatsheet</a></li>
<li><a href="https://www.nrscotland.gov.uk/files//statistics/babies-first-names-full-list/summary-records/babies-names16-all-names-years.csv">Scottish Babynames</a></li>
<li><a href="https://www.youtube.com/watch?v=lAaVPMcMs1w">Developing an analysis in R/RStudio: Scottish babynames (1/2)</a></li>
<li><a href="https://www.youtube.com/watch?v=lzdTHCcClqo">Developing an analysis in R/RStudio: Scottish babynames (2/2)</a></li>
</ul>
</div>
<div id="setup2" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Setup</h2>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="data.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># libraries needed for these examples</span></span>
<span id="cb123-2"><a href="data.html#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb123-3"><a href="data.html#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reprores)</span></code></pre></div>
</div>
<div id="data-tables" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Data tables</h2>
<div id="builtin" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Built-in data</h3>
<p>R comes with built-in datasets. Some packages, like tidyr and reprores, also contain data. The <code>data()</code> function lists the datasets available in a package.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="data.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># lists datasets in reprores</span></span>
<span id="cb124-2"><a href="data.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="at">package =</span> <span class="st">&quot;reprores&quot;</span>)</span></code></pre></div>
<p>Type the name of a dataset into the console to see the data. Type <code>?smalldata</code> into the console to see the dataset description.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="data.html#cb125-1" aria-hidden="true" tabindex="-1"></a>smalldata</span></code></pre></div>
<pre><code>## # A tibble: 10 x 4
##    id    group     pre  post
##    &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
##  1 S01   control  98.5 107. 
##  2 S02   control 104.   89.1
##  3 S03   control 105.  124. 
##  4 S04   control  92.4  70.7
##  5 S05   control 124.  125. 
##  6 S06   exp      97.5 102. 
##  7 S07   exp      87.8 126. 
##  8 S08   exp      77.2  72.3
##  9 S09   exp      97.0 109. 
## 10 S10   exp     102.  114.</code></pre>
<p>You can also use the <code>data()</code> function to load a dataset into your <a class='glossary' target='_blank' title='The interactive workspace where your script runs' href='https://psyteachr.github.io/glossary/g#global-environment'>global environment</a>.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loads smalldata into the environment</span></span>
<span id="cb127-2"><a href="data.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;smalldata&quot;</span>)</span></code></pre></div>
<p>Always, always, always, look at your data once you've created or loaded a table. Also look at it after each step that transforms your table. There are three main ways to look at your tibble: <code>print()</code>, <code>glimpse()</code>, and <code>View()</code>.</p>
<p>The <code>print()</code> method can be run explicitly, but is more commonly called by just typing the variable name on the blank line. The default is not to print the entire table, but just the first 10 rows. It's rare to print your data in a script; that is something you usually are doing for a sanity check, and you should just do it in the console.</p>
<p>Let's look at the <code>smalldata</code> table that we made above.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="data.html#cb128-1" aria-hidden="true" tabindex="-1"></a>smalldata</span></code></pre></div>
<pre><code>## # A tibble: 10 x 4
##    id    group     pre  post
##    &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
##  1 S01   control  98.5 107. 
##  2 S02   control 104.   89.1
##  3 S03   control 105.  124. 
##  4 S04   control  92.4  70.7
##  5 S05   control 124.  125. 
##  6 S06   exp      97.5 102. 
##  7 S07   exp      87.8 126. 
##  8 S08   exp      77.2  72.3
##  9 S09   exp      97.0 109. 
## 10 S10   exp     102.  114.</code></pre>
<p>The function <code>glimpse()</code> gives a sideways version of the tibble. This is useful if the table is very wide and you can't see all of the columns. It also tells you the data type of each column in angled brackets after each column name. We'll learn about <a href="data.html#data_types">data types</a> below.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="data.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(smalldata)</span></code></pre></div>
<pre><code>## Rows: 10
## Columns: 4
## $ id    &lt;chr&gt; &quot;S01&quot;, &quot;S02&quot;, &quot;S03&quot;, &quot;S04&quot;, &quot;S05&quot;, &quot;S06&quot;, &quot;S07&quot;, &quot;S08&quot;, &quot;S09&quot;, &quot;
## $ group &lt;chr&gt; &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;exp&quot;, &quot;e
## $ pre   &lt;dbl&gt; 98.46606, 104.39774, 105.13377, 92.42574, 123.53268, 97.48676, 8
## $ post  &lt;dbl&gt; 106.70508, 89.09030, 123.67230, 70.70178, 124.95526, 101.61697, </code></pre>
<p>The other way to look at the table is a more graphical spreadsheet-like version given by <code>View()</code> (capital 'V'). It can be useful in the console, but don't ever put this one in a script because it will create an annoying pop-up window when the user runs it.
Now you can click on <code>smalldata</code> in the environment pane to open it up in a viewer that looks a bit like Excel.</p>
<p>You can get a quick summary of a dataset with the <code>summary()</code> function.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="data.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(smalldata)</span></code></pre></div>
<pre><code>##       id               group                pre              post       
##  Length:10          Length:10          Min.   : 77.15   Min.   : 70.70  
##  Class :character   Class :character   1st Qu.: 93.57   1st Qu.: 92.22  
##  Mode  :character   Mode  :character   Median : 97.98   Median :107.76  
##                                        Mean   : 98.57   Mean   :103.79  
##                                        3rd Qu.:103.88   3rd Qu.:121.19  
##                                        Max.   :123.53   Max.   :126.30</code></pre>
<p>You can even do things like calculate the difference between the means of two columns.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="data.html#cb134-1" aria-hidden="true" tabindex="-1"></a>pre_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(smalldata<span class="sc">$</span>pre)</span>
<span id="cb134-2"><a href="data.html#cb134-2" aria-hidden="true" tabindex="-1"></a>post_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(smalldata<span class="sc">$</span>post)</span>
<span id="cb134-3"><a href="data.html#cb134-3" aria-hidden="true" tabindex="-1"></a>post_mean <span class="sc">-</span> pre_mean</span></code></pre></div>
<pre><code>## [1] 5.223055</code></pre>
</div>
<div id="import_data" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Importing data</h3>
<p>Built-in data are nice for examples, but you're probably more interested in your own data. There are many different types of files that you might work with when doing data analysis. These different file types are usually distinguished by the three letter <a class='glossary' target='_blank' title='The end part of a file name that tells you what type of file it is (e.g., .R or .Rmd).' href='https://psyteachr.github.io/glossary/e#extension'>extension</a> following a period at the end of the file name. Here are some examples of different types of files and the functions you would use to read them in or write them out.</p>
<table>
<thead>
<tr class="header">
<th>Extension</th>
<th>File Type</th>
<th>Reading</th>
<th>Writing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>.csv</td>
<td>Comma-separated values</td>
<td><code>readr::read_csv()</code></td>
<td><code>readr::write_csv()</code></td>
</tr>
<tr class="even">
<td>.tsv, .txt</td>
<td>Tab-separated values</td>
<td><code>readr::read_tsv()</code></td>
<td><code>readr::write_tsv()</code></td>
</tr>
<tr class="odd">
<td>.xls, .xlsx</td>
<td>Excel workbook</td>
<td><code>readxl::read_excel()</code></td>
<td>NA</td>
</tr>
<tr class="even">
<td>.sav, .mat, ...</td>
<td>Multiple types</td>
<td><code>rio::import()</code></td>
<td>NA</td>
</tr>
</tbody>
</table>
<p>The double colon means that the function on the right comes from the package on the left, so <code>readr::read_csv()</code> refers to the <code>read_csv()</code> function in the <code>readr</code> package, and <code>readxl::read_excel()</code> refers to the function <code>read_excel()</code> in the package <code>readxl</code>. The function <code>rio::import()</code> from the <code>rio</code> package will read almost any type of data file, including SPSS and Matlab. Check the help with <code>?rio::import</code> to see a full list.</p>
<p>You can get a directory of data files used in this class for tutorials and exercises with the following code, which will create a directory called "data" in your project directory. Alternatively, you can download a <a href="data/data.zip">zip file of the datasets</a>.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="data.html#cb136-1" aria-hidden="true" tabindex="-1"></a>psyteachr<span class="sc">::</span><span class="fu">getdata</span>()</span></code></pre></div>
<p>Probably the most common file type you will encounter is <a class='glossary' target='_blank' title='Comma-separated variable: a file type for representing data where each variable is separated from the next by a comma.' href='https://psyteachr.github.io/glossary/c#csv'>.csv</a> (comma-separated values). As the name suggests, a CSV file distinguishes which values go with which variable by separating them with commas, and text values are sometimes enclosed in double quotes. The first line of a file usually provides the names of the variables.</p>
<p>For example, here are the first few lines of a CSV containing personality scores:</p>
<pre><code>  subj_id,O,C,E,A,N
  S01,4.428571429,4.5,3.333333333,5.142857143,1.625
  S02,5.714285714,2.9,3.222222222,3,2.625
  S03,5.142857143,2.8,6,3.571428571,2.5
  S04,3.142857143,5.2,1.333333333,1.571428571,3.125
  S05,5.428571429,4.4,2.444444444,4.714285714,1.625
  ```

There are six variables in this dataset, and their names are given in the first line of the file: `subj_id`, `O`, `C`, `E`, `A`, and `N`. You can see that the values for each of these variables are given in order, separated by commas, on each subsequent line of the file.

When you read in CSV files, it is best practice to use the `readr::read_csv()` function. The `readr` package is automatically loaded as part of the `tidyverse` package, which we will be using in almost every script. Note that you would normally want to store the result of the `read_csv()` function to an object, as so:


```r
csv_data &lt;- read_csv(&quot;data/5factor.csv&quot;)</code></pre>
<pre><code>## 
##  Column specification 
## cols(
##   subj_id = col_character(),
##   O = col_double(),
##   C = col_double(),
##   E = col_double(),
##   A = col_double(),
##   N = col_double()
## )</code></pre>
<p>The <code>read_csv()</code> and <code>read_tsv()</code> functions will give you some information about the data you just read in so you can check the column names and <a href="data.html#data_types">data types</a>. For now, it's enough to know that <code>col_double()</code> refers to columns with numbers and <code>col_character()</code> refers to columns with words. We'll learn in the <a href="data.html#troubleshooting">toroubleshooting</a> section below how to fix it if the function guesses the wrong data type.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="data.html#cb139-1" aria-hidden="true" tabindex="-1"></a>tsv_data <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;data/5factor.txt&quot;</span>)</span>
<span id="cb139-2"><a href="data.html#cb139-2" aria-hidden="true" tabindex="-1"></a>xls_data <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xls</span>(<span class="st">&quot;data/5factor.xls&quot;</span>)</span>
<span id="cb139-3"><a href="data.html#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="co"># you can load sheets from excel files by name or number</span></span>
<span id="cb139-4"><a href="data.html#cb139-4" aria-hidden="true" tabindex="-1"></a>rep_data <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xls</span>(<span class="st">&quot;data/5factor.xls&quot;</span>, <span class="at">sheet =</span> <span class="st">&quot;replication&quot;</span>)</span>
<span id="cb139-5"><a href="data.html#cb139-5" aria-hidden="true" tabindex="-1"></a>spss_data <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">&quot;data/5factor.sav&quot;</span>)</span></code></pre></div>
<p>Once loaded, you can view your data using the data viewer. In the upper right hand window of RStudio, under the Environment tab, you will see the object <code>babynames</code> listed.</p>
<p><img src="images/01/my_data.png" /></p>
<p>If you click on the View icon (<img src="images/01/table_icon.png" />), it will bring up a table view of the data you loaded in the top left pane of RStudio.</p>
<p><img src="images/01/View.png" /></p>
<p>This allows you to check that the data have been loaded in properly. You can close the tab when you're done looking at it, it won't remove the object.</p>
</div>
<div id="creating-data" class="section level3" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Creating data</h3>
<p>If we are creating a data table from scratch, we can use the <code>tibble::tibble()</code> function, and type the data right in. The <code>tibble</code> package is part of the <a class='glossary' target='_blank' title='A set of R packages that help you create and work with tidy data' href='https://psyteachr.github.io/glossary/t#tidyverse'>tidyverse</a> package that we loaded at the start of this chapter.</p>
<p>Let's create a small table with the names of three Avatar characters and their bending type. The <code>tibble()</code> function takes arguments with the names that you want your columns to have. The values are vectors that list the column values in order.</p>
<p>If you don't know the value for one of the cells, you can enter <code>NA</code>, which we have to do for Sokka because he doesn't have any bending ability. If all the values in the column are the same, you can just enter one value and it will be copied for each row.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="data.html#cb140-1" aria-hidden="true" tabindex="-1"></a>avatar <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb140-2"><a href="data.html#cb140-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;Katara&quot;</span>, <span class="st">&quot;Toph&quot;</span>, <span class="st">&quot;Sokka&quot;</span>),</span>
<span id="cb140-3"><a href="data.html#cb140-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">bends =</span> <span class="fu">c</span>(<span class="st">&quot;water&quot;</span>, <span class="st">&quot;earth&quot;</span>, <span class="cn">NA</span>),</span>
<span id="cb140-4"><a href="data.html#cb140-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">friendly =</span> <span class="cn">TRUE</span></span>
<span id="cb140-5"><a href="data.html#cb140-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb140-6"><a href="data.html#cb140-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-7"><a href="data.html#cb140-7" aria-hidden="true" tabindex="-1"></a><span class="co"># print it</span></span>
<span id="cb140-8"><a href="data.html#cb140-8" aria-hidden="true" tabindex="-1"></a>avatar</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   name   bends friendly
##   &lt;chr&gt;  &lt;chr&gt; &lt;lgl&gt;   
## 1 Katara water TRUE    
## 2 Toph   earth TRUE    
## 3 Sokka  &lt;NA&gt;  TRUE</code></pre>
</div>
<div id="writing-data" class="section level3" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Writing Data</h3>
<p>If you have data that you want to save to a CSV file, use <code>readr::write_csv()</code>, as follows.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="data.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(avatar, <span class="st">&quot;avatar.csv&quot;</span>)</span></code></pre></div>
<p>This will save the data in CSV format to your working directory.</p>
<div class="try">
<ul>
<li>Create a new table called <code>family</code> with the first name, last name, and age of your family members.</li>
<li>Save it to a CSV file called "family.csv".</li>
<li>Clear the object from your environment by restarting R or with the code <code>remove(family)</code>.</li>
<li>Load the data back in and view it.</li>
</ul>
</div>
<p>We'll be working with <a class='glossary' target='_blank' title='Data in a rectangular table format, where each row has an entry for each column.' href='https://psyteachr.github.io/glossary/t#tabular-data'>tabular data</a> a lot in this class, but tabular data is made up of <a class='glossary' target='_blank' title='A type of data structure that is basically a list of things like T/F values, numbers, or strings.' href='https://psyteachr.github.io/glossary/v#vector'>vectors</a>, which group together data with the same basic <a class='glossary' target='_blank' title='The kind of data represented by an object.' href='https://psyteachr.github.io/glossary/d#data-type'>data type</a>. The following sections explain some of this terminology to help you understand the functions we'll be learning to process and analyse data.</p>
</div>
</div>
<div id="data_types" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Basic data types</h2>
<p>Data can be numbers, words, true/false values or combinations of these. In order to understand some later concepts, it's useful to have a basic understanding of <a class='glossary' target='_blank' title='The kind of data represented by an object.' href='https://psyteachr.github.io/glossary/d#data-type'>data types</a> in R: <a class='glossary' target='_blank' title='A data type representing a real decimal number or integer.' href='https://psyteachr.github.io/glossary/n#numeric'>numeric</a>, <a class='glossary' target='_blank' title='A data type representing strings of text.' href='https://psyteachr.github.io/glossary/c#character'>character</a>, and <a class='glossary' target='_blank' title='A data type representing TRUE or FALSE values.' href='https://psyteachr.github.io/glossary/l#logical'>logical</a> There is also a specific data type called a <a class='glossary' target='_blank' title='A data type where a specific set of values are stored with labels; An explanatory variable manipulated by the experimenter' href='https://psyteachr.github.io/glossary/f#factor'>factor</a>, which will probably give you a headache sooner or later, but we can ignore it for now.</p>
<div id="numeric-data" class="section level3" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Numeric data</h3>
<p>All of the real numbers are <a class='glossary' target='_blank' title='A data type representing a real decimal number or integer.' href='https://psyteachr.github.io/glossary/n#numeric'>numeric</a> data types (imaginary numbers are "complex"). There are two types of numeric data, <a class='glossary' target='_blank' title='A data type representing whole numbers.' href='https://psyteachr.github.io/glossary/i#integer'>integer</a> and <a class='glossary' target='_blank' title='A data type representing a real decimal number' href='https://psyteachr.github.io/glossary/d#double'>double</a>. Integers are the whole numbers, like -1, 0 and 1. Doubles are numbers that can have fractional amounts. If you just type a plain number such as <code>10</code>, it is stored as a double, even if it doesn't have a decimal point. If you want it to be an exact integer, use the <code>L</code> suffix (10L).</p>
<p>If you ever want to know the data type of something, use the <code>typeof</code> function.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="data.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="dv">10</span>)   <span class="co"># double</span></span>
<span id="cb143-2"><a href="data.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="fl">10.0</span>) <span class="co"># double</span></span>
<span id="cb143-3"><a href="data.html#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(10L)  <span class="co"># integer</span></span>
<span id="cb143-4"><a href="data.html#cb143-4" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(10i)  <span class="co"># complex</span></span></code></pre></div>
<pre><code>## [1] &quot;double&quot;
## [1] &quot;double&quot;
## [1] &quot;integer&quot;
## [1] &quot;complex&quot;</code></pre>
<p>If you want to know if something is numeric (a double or an integer), you can use the function <code>is.numeric()</code> and it will tell you if it is numeric (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="data.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(10L)</span>
<span id="cb145-2"><a href="data.html#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(<span class="fl">10.0</span>)</span>
<span id="cb145-3"><a href="data.html#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(<span class="st">&quot;Not a number&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE
## [1] TRUE
## [1] FALSE</code></pre>
</div>
<div id="character-data" class="section level3" number="3.5.2">
<h3><span class="header-section-number">3.5.2</span> Character data</h3>
<p><a class='glossary' target='_blank' title='A data type representing strings of text.' href='https://psyteachr.github.io/glossary/c#character'>Character</a> strings are any text between quotation marks.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="data.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="st">&quot;This is a character string&quot;</span>)</span>
<span id="cb147-2"><a href="data.html#cb147-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="st">&#39;You can use double or single quotes&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;
## [1] &quot;character&quot;</code></pre>
<p>This can include quotes, but you have to <a class='glossary' target='_blank' title='Include special characters like " inside of a string by prefacing them with a backslash.' href='https://psyteachr.github.io/glossary/e#escape'>escape</a> it using a backslash to signal the the quote isn't meant to be the end of the string.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="data.html#cb149-1" aria-hidden="true" tabindex="-1"></a>my_string <span class="ot">&lt;-</span> <span class="st">&quot;The instructor said, </span><span class="sc">\&quot;</span><span class="st">R is cool,</span><span class="sc">\&quot;</span><span class="st"> and the class agreed.&quot;</span></span>
<span id="cb149-2"><a href="data.html#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(my_string) <span class="co"># cat() prints the arguments</span></span></code></pre></div>
<pre><code>## The instructor said, &quot;R is cool,&quot; and the class agreed.</code></pre>
</div>
<div id="logical-data" class="section level3" number="3.5.3">
<h3><span class="header-section-number">3.5.3</span> Logical Data</h3>
<p><a class='glossary' target='_blank' title='A data type representing TRUE or FALSE values.' href='https://psyteachr.github.io/glossary/l#logical'>Logical</a> data (also sometimes called "boolean" values) is one of two values: true or false. In R, we always write them in uppercase: <code>TRUE</code> and <code>FALSE</code>.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="data.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="cn">TRUE</span>)</span>
<span id="cb151-2"><a href="data.html#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;
## [1] &quot;logical&quot;</code></pre>
<p>When you compare two values with an <a class='glossary' target='_blank' title='A symbol that performs a mathematical operation, such as +, -, *, /' href='https://psyteachr.github.io/glossary/o#operator'>operator</a>, such as checking to see if 10 is greater than 5, the resulting value is logical.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="data.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>(<span class="dv">10</span> <span class="sc">&gt;</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="info">
<p>You might also see logical values abbreviated as <code>T</code> and <code>F</code>, or <code>0</code> and <code>1</code>. This can cause some problems down the road, so we will always spell out the whole thing.</p>
</div>
<div class="try">
<p>What data types are these:</p>
<ul>
<li><code>100</code> <select class='webex-solveme' data-answer='["double"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
<li><code>100L</code> <select class='webex-solveme' data-answer='["integer"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
<li><code>"100"</code> <select class='webex-solveme' data-answer='["character"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
<li><code>100.0</code> <select class='webex-solveme' data-answer='["double"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
<li><code>-100L</code> <select class='webex-solveme' data-answer='["integer"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
<li><code>factor(100)</code> <select class='webex-solveme' data-answer='["factor"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
<li><code>TRUE</code> <select class='webex-solveme' data-answer='["logical"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
<li><code>"TRUE"</code> <select class='webex-solveme' data-answer='["character"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
<li><code>FALSE</code> <select class='webex-solveme' data-answer='["logical"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
<li><code>1 == 2</code> <select class='webex-solveme' data-answer='["logical"]'> <option></option> <option>integer</option> <option>double</option> <option>character</option> <option>logical</option> <option>factor</option></select></li>
</ul>
</div>
</div>
</div>
<div id="containers" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Basic container types</h2>
<p>Individual data values can be grouped together into containers. The main types of containers we'll work with are vectors, lists, and data tables.</p>
<div id="vectors" class="section level3" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> Vectors</h3>
<p>A <a class='glossary' target='_blank' title='A type of data structure that is basically a list of things like T/F values, numbers, or strings.' href='https://psyteachr.github.io/glossary/v#vector'>vector</a> in R is like a vector in mathematics: a set of ordered elements. All of the elements in a vector must be of the same <strong>data type</strong> (numeric, character, logical). You can create a vector by enclosing the elements in the function <code>c()</code>.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="data.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="do">## put information into a vector using c(...)</span></span>
<span id="cb155-2"><a href="data.html#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb155-3"><a href="data.html#cb155-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;this&quot;</span>, <span class="st">&quot;is&quot;</span>, <span class="st">&quot;cool&quot;</span>)</span>
<span id="cb155-4"><a href="data.html#cb155-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span> <span class="co"># shortcut to make a vector of all integers x:y</span></span></code></pre></div>
<pre><code>## [1] 1 2 3 4
## [1] &quot;this&quot; &quot;is&quot;   &quot;cool&quot;
## [1] 1 2 3 4 5 6</code></pre>
<div class="try">
<p>What happens when you mix types? What class is the variable <code>mixed</code>?</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="data.html#cb157-1" aria-hidden="true" tabindex="-1"></a>mixed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="st">&quot;good&quot;</span>, 2L, <span class="st">&quot;b&quot;</span>, <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div class="warning">
<p>You can't mix data types in a vector; all elements of the vector must be the same data type. If you mix them, R will "coerce" them so that they are all the same. If you mix doubles and integers, the integers will be changed to doubles. If you mix characters and numeric types, the numbers will be coerced to characters, so <code>10</code> would turn into "10".</p>
</div>
<div id="selecting-values-from-a-vector" class="section level4" number="3.6.1.1">
<h4><span class="header-section-number">3.6.1.1</span> Selecting values from a vector</h4>
<p>If we wanted to pick specific values out of a vector by position, we can use square brackets (an <a class='glossary' target='_blank' title='A symbol used to get values from a container object, such as [, [[, or $' href='https://psyteachr.github.io/glossary/e#extract-operator'>extract operator</a>, or <code>[]</code>) after the vector.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="data.html#cb158-1" aria-hidden="true" tabindex="-1"></a>values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>)</span>
<span id="cb158-2"><a href="data.html#cb158-2" aria-hidden="true" tabindex="-1"></a>values[<span class="dv">2</span>] <span class="co"># selects the second value</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<p>You can select more than one value from the vector by putting a vector of numbers inside the square brackets. For example, you can select the 18th, 19th, 20th, 21st, 4th, 9th and 15th letter from the built-in vector <code>LETTERS</code> (which gives all the uppercase letters in the Latin alphabet).</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="data.html#cb160-1" aria-hidden="true" tabindex="-1"></a>word <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">19</span>, <span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">15</span>)</span>
<span id="cb160-2"><a href="data.html#cb160-2" aria-hidden="true" tabindex="-1"></a>LETTERS[word]</span></code></pre></div>
<pre><code>## [1] &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;D&quot; &quot;I&quot; &quot;O&quot;</code></pre>
<div class="try">
<p>Can you decode the secret message?</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="data.html#cb162-1" aria-hidden="true" tabindex="-1"></a>secret <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">14</span>, <span class="dv">5</span>, <span class="dv">22</span>, <span class="dv">5</span>, <span class="dv">18</span>, <span class="dv">7</span>, <span class="dv">15</span>, <span class="dv">14</span>, <span class="dv">14</span>, <span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">22</span>, <span class="dv">5</span>, <span class="dv">25</span>, <span class="dv">15</span>, <span class="dv">21</span>, <span class="dv">21</span>, <span class="dv">16</span>)</span></code></pre></div>
</div>
<p>You can also create 'named' vectors, where each element has a name. For example:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="data.html#cb163-1" aria-hidden="true" tabindex="-1"></a>vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">first =</span> <span class="fl">77.9</span>, <span class="at">second =</span> <span class="sc">-</span><span class="fl">13.2</span>, <span class="at">third =</span> <span class="fl">100.1</span>)</span>
<span id="cb163-2"><a href="data.html#cb163-2" aria-hidden="true" tabindex="-1"></a>vec</span></code></pre></div>
<pre><code>##  first second  third 
##   77.9  -13.2  100.1</code></pre>
<p>We can then access elements by name using a character vector within the square brackets. We can put them in any order we want, and we can repeat elements:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="data.html#cb165-1" aria-hidden="true" tabindex="-1"></a>vec[<span class="fu">c</span>(<span class="st">&quot;third&quot;</span>, <span class="st">&quot;second&quot;</span>, <span class="st">&quot;second&quot;</span>)]</span></code></pre></div>
<pre><code>##  third second second 
##  100.1  -13.2  -13.2</code></pre>
<div class="info">
<p>We can get the vector of names using the <code>names()</code> function, and we can set or change them using something like <code>names(vec2) &lt;- c("n1", "n2", "n3")</code>.</p>
</div>
<p>Another way to access elements is by using a logical vector within the square brackets. This will pull out the elements of the vector for which the corresponding element of the logical vector is <code>TRUE</code>. If the logical vector doesn't have the same length as the original, it will repeat. You can find out how long a vector is using the <code>length()</code> function.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="data.html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(LETTERS)</span>
<span id="cb167-2"><a href="data.html#cb167-2" aria-hidden="true" tabindex="-1"></a>LETTERS[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)]</span></code></pre></div>
<pre><code>## [1] 26
##  [1] &quot;A&quot; &quot;C&quot; &quot;E&quot; &quot;G&quot; &quot;I&quot; &quot;K&quot; &quot;M&quot; &quot;O&quot; &quot;Q&quot; &quot;S&quot; &quot;U&quot; &quot;W&quot; &quot;Y&quot;</code></pre>
</div>
<div id="rep_seq" class="section level4" number="3.6.1.2">
<h4><span class="header-section-number">3.6.1.2</span> Repeating Sequences</h4>
<p>Here are some useful tricks to save typing when creating vectors.</p>
<p>In the command <code>x:y</code> the <code>:</code> operator would give you the sequence of number starting at <code>x</code>, and going to <code>y</code> in increments of 1.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="data.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb169-2"><a href="data.html#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="fl">15.3</span><span class="sc">:</span><span class="fl">20.5</span></span>
<span id="cb169-3"><a href="data.html#cb169-3" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span><span class="sc">:-</span><span class="dv">10</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10
## [1] 15.3 16.3 17.3 18.3 19.3 20.3
##  [1]   0  -1  -2  -3  -4  -5  -6  -7  -8  -9 -10</code></pre>
<p>What if you want to create a sequence but with something other than integer steps? You can use the <code>seq()</code> function. Look at the examples below and work out what the arguments do.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="data.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">to =</span> <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.2</span>)</span>
<span id="cb171-2"><a href="data.html#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">length.out =</span> <span class="dv">11</span>)</span>
<span id="cb171-3"><a href="data.html#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="at">along.with =</span> LETTERS)</span></code></pre></div>
<pre><code>##  [1] -1.0 -0.8 -0.6 -0.4 -0.2  0.0  0.2  0.4  0.6  0.8  1.0
##  [1]   0  10  20  30  40  50  60  70  80  90 100
##  [1]  0.0  0.4  0.8  1.2  1.6  2.0  2.4  2.8  3.2  3.6  4.0  4.4  4.8  5.2  5.6
## [16]  6.0  6.4  6.8  7.2  7.6  8.0  8.4  8.8  9.2  9.6 10.0</code></pre>
<p>What if you want to repeat a vector many times? You could either type it out (painful) or use the <code>rep()</code> function, which can repeat vectors in different ways.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="data.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">10</span>)                      <span class="co"># ten zeroes</span></span>
<span id="cb173-2"><a href="data.html#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(1L, 3L), <span class="at">times =</span> <span class="dv">7</span>)       <span class="co"># alternating 1 and 3, 7 times</span></span>
<span id="cb173-3"><a href="data.html#cb173-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>), <span class="at">each =</span> <span class="dv">2</span>) <span class="co"># A to C, 2 times each</span></span></code></pre></div>
<pre><code>##  [1] 0 0 0 0 0 0 0 0 0 0
##  [1] 1 3 1 3 1 3 1 3 1 3 1 3 1 3
## [1] &quot;A&quot; &quot;A&quot; &quot;B&quot; &quot;B&quot; &quot;C&quot; &quot;C&quot;</code></pre>
<p>The <code>rep()</code> function is useful to create a vector of logical values (<code>TRUE</code>/<code>FALSE</code> or <code>1</code>/<code>0</code>) to select values from another vector.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="data.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get subject IDs in the pattern Y Y N N ...</span></span>
<span id="cb175-2"><a href="data.html#cb175-2" aria-hidden="true" tabindex="-1"></a>subject_ids <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">40</span></span>
<span id="cb175-3"><a href="data.html#cb175-3" aria-hidden="true" tabindex="-1"></a>yynn <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="at">each =</span> <span class="dv">2</span>, </span>
<span id="cb175-4"><a href="data.html#cb175-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">length.out =</span> <span class="fu">length</span>(subject_ids))</span>
<span id="cb175-5"><a href="data.html#cb175-5" aria-hidden="true" tabindex="-1"></a>subject_ids[yynn]</span></code></pre></div>
<pre><code>##  [1]  1  2  5  6  9 10 13 14 17 18 21 22 25 26 29 30 33 34 37 38</code></pre>
</div>
<div id="vectorized_ops" class="section level4" number="3.6.1.3">
<h4><span class="header-section-number">3.6.1.3</span> Vectorized Operations</h4>
<p>R performs calculations on vectors in a special way. Let's look at an example using <span class="math inline">\(z\)</span>-scores. A <span class="math inline">\(z\)</span>-score is a <a class='glossary' target='_blank' title='A score minus the mean' href='https://psyteachr.github.io/glossary/d#deviation-score'>deviation score</a>(a score minus a mean) divided by a standard deviation. Let's say we have a set of four IQ scores.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="data.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="do">## example IQ scores: mu = 100, sigma = 15</span></span>
<span id="cb177-2"><a href="data.html#cb177-2" aria-hidden="true" tabindex="-1"></a>iq <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">86</span>, <span class="dv">101</span>, <span class="dv">127</span>, <span class="dv">99</span>)</span></code></pre></div>
<p>If we want to subtract the mean from these four scores, we just use the following code:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="data.html#cb178-1" aria-hidden="true" tabindex="-1"></a>iq <span class="sc">-</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] -14   1  27  -1</code></pre>
<p>This subtracts 100 from each element of the vector. R automatically assumes that this is what you wanted to do; it is called a <a class='glossary' target='_blank' title='An operator or function that acts on each element in a vector' href='https://psyteachr.github.io/glossary/v#vectorized'>vectorized</a> operation and it makes it possible to express operations more efficiently.</p>
<p>To calculate <span class="math inline">\(z\)</span>-scores we use the formula:</p>
<p><span class="math inline">\(z = \frac{X - \mu}{\sigma}\)</span></p>
<p>where X are the scores, <span class="math inline">\(\mu\)</span> is the mean, and <span class="math inline">\(\sigma\)</span> is the standard deviation. We can expression this formula in R as follows:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="data.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="do">## z-scores</span></span>
<span id="cb180-2"><a href="data.html#cb180-2" aria-hidden="true" tabindex="-1"></a>(iq <span class="sc">-</span> <span class="dv">100</span>) <span class="sc">/</span> <span class="dv">15</span></span></code></pre></div>
<pre><code>## [1] -0.93333333  0.06666667  1.80000000 -0.06666667</code></pre>
<p>You can see that it computed all four <span class="math inline">\(z\)</span>-scores with a single line of code. In later chapters, we'll use vectorised operations to process our data, such as reverse-scoring some questionnaire items.</p>
</div>
</div>
<div id="lists" class="section level3" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> Lists</h3>
<p>Recall that vectors can contain data of only one type. What if you want to store a collection of data of different data types? For that purpose you would use a <a class='glossary' target='_blank' title='A container data type that allows items with different data types to be grouped together.' href='https://psyteachr.github.io/glossary/l#list'>list</a>. Define a list using the <code>list()</code> function.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="data.html#cb182-1" aria-hidden="true" tabindex="-1"></a>data_types <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb182-2"><a href="data.html#cb182-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">double =</span> <span class="fl">10.0</span>,</span>
<span id="cb182-3"><a href="data.html#cb182-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">integer =</span> 10L,</span>
<span id="cb182-4"><a href="data.html#cb182-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">character =</span> <span class="st">&quot;10&quot;</span>,</span>
<span id="cb182-5"><a href="data.html#cb182-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">logical =</span> <span class="cn">TRUE</span></span>
<span id="cb182-6"><a href="data.html#cb182-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb182-7"><a href="data.html#cb182-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-8"><a href="data.html#cb182-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data_types) <span class="co"># str() prints lists in a condensed format</span></span></code></pre></div>
<pre><code>## List of 4
##  $ double   : num 10
##  $ integer  : int 10
##  $ character: chr &quot;10&quot;
##  $ logical  : logi TRUE</code></pre>
<p>You can refer to elements of a list using square brackets like a vector, but you can also use the dollar sign notation (<code>$</code>) if the list items have names.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="data.html#cb184-1" aria-hidden="true" tabindex="-1"></a>data_types<span class="sc">$</span>logical</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="try">
<p>Explore the 5 ways shown below to extract a value from a list. What data type is each object? What is the difference between the single and double brackets? Which one is the same as the dollar sign?</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="data.html#cb186-1" aria-hidden="true" tabindex="-1"></a>bracket1 <span class="ot">&lt;-</span> data_types[<span class="dv">1</span>]</span>
<span id="cb186-2"><a href="data.html#cb186-2" aria-hidden="true" tabindex="-1"></a>bracket2 <span class="ot">&lt;-</span> data_types[[<span class="dv">1</span>]]</span>
<span id="cb186-3"><a href="data.html#cb186-3" aria-hidden="true" tabindex="-1"></a>name1    <span class="ot">&lt;-</span> data_types[<span class="st">&quot;double&quot;</span>]</span>
<span id="cb186-4"><a href="data.html#cb186-4" aria-hidden="true" tabindex="-1"></a>name2    <span class="ot">&lt;-</span> data_types[[<span class="st">&quot;double&quot;</span>]]</span>
<span id="cb186-5"><a href="data.html#cb186-5" aria-hidden="true" tabindex="-1"></a>dollar   <span class="ot">&lt;-</span> data_types<span class="sc">$</span>double</span></code></pre></div>
</div>
</div>
<div id="tables" class="section level3" number="3.6.3">
<h3><span class="header-section-number">3.6.3</span> Tables</h3>
<p>The built-in, imported, and created data above are <a class='glossary' target='_blank' title='Data in a rectangular table format, where each row has an entry for each column.' href='https://psyteachr.github.io/glossary/t#tabular-data'>tabular data</a>, data arranged in the form of a table.</p>
<p>Tabular data structures allow for a collection of data of different types (characters, integers, logical, etc.) but subject to the constraint that each "column" of the table (element of the list) must have the same number of elements. The base R version of a table is called a <code>data.frame</code>, while the 'tidyverse' version is called a <code>tibble</code>. Tibbles are far easier to work with, so we'll be using those. To learn more about differences between these two data structures, see <code>vignette("tibble")</code>.</p>
<p>Tabular data becomes especially important for when we talk about <a class='glossary' target='_blank' title='A format for data that maps the meaning onto the structure.' href='https://psyteachr.github.io/glossary/t#tidy-data'>tidy data</a> in <a href="tidyr.html#tidyr">chapter 4</a>, which consists of a set of simple principles for structuring data.</p>
<div id="creating-a-table" class="section level4" number="3.6.3.1">
<h4><span class="header-section-number">3.6.3.1</span> Creating a table</h4>
<p>We learned how to create a table by importing a Excel or CSV file, and creating a table from scratch using the <code>tibble()</code> function. You can also use the <code>tibble::tribble()</code> function to create a table by row, rather than by column. You start by listing the column names, each preceded by a tilde (<code>~</code>), then you list the values for each column, row by row, separated by commas (don't forget a comma at the end of each row). This method can be easier for some data, but doesn't let you use shortcuts, like setting all of the values in a column to the same value or a <a href="data.html#rep_seq">repeating sequence</a>.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="data.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="co"># by column using tibble</span></span>
<span id="cb187-2"><a href="data.html#cb187-2" aria-hidden="true" tabindex="-1"></a>avatar_by_col <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb187-3"><a href="data.html#cb187-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;Katara&quot;</span>, <span class="st">&quot;Toph&quot;</span>, <span class="st">&quot;Sokka&quot;</span>, <span class="st">&quot;Azula&quot;</span>),</span>
<span id="cb187-4"><a href="data.html#cb187-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">bends =</span> <span class="fu">c</span>(<span class="st">&quot;water&quot;</span>, <span class="st">&quot;earth&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;fire&quot;</span>),</span>
<span id="cb187-5"><a href="data.html#cb187-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">friendly =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>))</span>
<span id="cb187-6"><a href="data.html#cb187-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb187-7"><a href="data.html#cb187-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-8"><a href="data.html#cb187-8" aria-hidden="true" tabindex="-1"></a><span class="co"># by row using tribble</span></span>
<span id="cb187-9"><a href="data.html#cb187-9" aria-hidden="true" tabindex="-1"></a>avatar_by_row <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb187-10"><a href="data.html#cb187-10" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>name,    <span class="sc">~</span>bends, <span class="sc">~</span>friendly,</span>
<span id="cb187-11"><a href="data.html#cb187-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Katara&quot;</span>, <span class="st">&quot;water&quot;</span>,       <span class="cn">TRUE</span>,</span>
<span id="cb187-12"><a href="data.html#cb187-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Toph&quot;</span>,   <span class="st">&quot;earth&quot;</span>,       <span class="cn">TRUE</span>,</span>
<span id="cb187-13"><a href="data.html#cb187-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Sokka&quot;</span>,  <span class="cn">NA</span>,            <span class="cn">TRUE</span>,</span>
<span id="cb187-14"><a href="data.html#cb187-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Azula&quot;</span>,  <span class="st">&quot;fire&quot;</span>,        <span class="cn">FALSE</span></span>
<span id="cb187-15"><a href="data.html#cb187-15" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="table-info" class="section level4" number="3.6.3.2">
<h4><span class="header-section-number">3.6.3.2</span> Table info</h4>
<p>We can get information about the table using the functions <code>ncol()</code> (number of columns), <code>nrow()</code> (number of rows), <code>dim()</code> (the number of rows and number of columns), and <code>name()</code> (the column names).</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="data.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(avatar) <span class="co"># how many rows?</span></span>
<span id="cb188-2"><a href="data.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(avatar) <span class="co"># how many columns?</span></span>
<span id="cb188-3"><a href="data.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(avatar)  <span class="co"># what are the table dimensions?</span></span>
<span id="cb188-4"><a href="data.html#cb188-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(avatar) <span class="co"># what are the column names?</span></span></code></pre></div>
<pre><code>## [1] 3
## [1] 3
## [1] 3 3
## [1] &quot;name&quot;     &quot;bends&quot;    &quot;friendly&quot;</code></pre>
</div>
<div id="row-col-access" class="section level4" number="3.6.3.3">
<h4><span class="header-section-number">3.6.3.3</span> Accessing rows and columns</h4>
<p>There are various ways of accessing specific columns or rows from a table. The ones below are from <a class='glossary' target='_blank' title='The set of R functions that come with a basic installation of R, before you add external packages' href='https://psyteachr.github.io/glossary/b#base-r'>base R</a> and are useful to know about, but you'll be learning easier (and more readable) ways in the <a href="tidyr.html#tidyr">tidyr</a> and <a href="dplyr.html#dplyr">dplyr</a> lessons. Examples of these base R accessing functions are provided here for reference, since you might see them in other people's scripts.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="data.html#cb190-1" aria-hidden="true" tabindex="-1"></a>katara     <span class="ot">&lt;-</span> avatar[<span class="dv">1</span>, ] <span class="co"># first row</span></span>
<span id="cb190-2"><a href="data.html#cb190-2" aria-hidden="true" tabindex="-1"></a>type       <span class="ot">&lt;-</span> avatar[, <span class="dv">2</span>] <span class="co"># second column (bends)</span></span>
<span id="cb190-3"><a href="data.html#cb190-3" aria-hidden="true" tabindex="-1"></a>benders    <span class="ot">&lt;-</span> avatar[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), ] <span class="co"># selected rows (by number)</span></span>
<span id="cb190-4"><a href="data.html#cb190-4" aria-hidden="true" tabindex="-1"></a>bends_name <span class="ot">&lt;-</span> avatar[, <span class="fu">c</span>(<span class="st">&quot;bends&quot;</span>, <span class="st">&quot;name&quot;</span>)] <span class="co"># selected columns (by name)</span></span>
<span id="cb190-5"><a href="data.html#cb190-5" aria-hidden="true" tabindex="-1"></a>friendly   <span class="ot">&lt;-</span> avatar<span class="sc">$</span>friendly  <span class="co"># by column name</span></span></code></pre></div>
</div>
</div>
</div>
<div id="troubleshooting" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Troubleshooting</h2>
<p>What if you import some data and it guesses the wrong column type? The most common reason is that a numeric column has some non-numbers in it somewhere. Maybe someone wrote a note in an otherwise numeric column. Columns have to be all one data type, so if there are any characters, the whole column is converted to character strings, and numbers like <code>1.2</code> get represented as "1.2", which will cause very weird errors like <code>"100" &lt; "9" == TRUE</code>. You can catch this by looking at the output from <code>read_csv()</code> or using <code>glimpse()</code> to check your data.</p>
<p>The data directory you created with <code>reprores::getdata()</code> contains a file called "mess.csv". Let's try loading this dataset.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="data.html#cb191-1" aria-hidden="true" tabindex="-1"></a>mess <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/mess.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
##  Column specification 
## cols(
##   `This is my messy dataset` = col_character()
## )</code></pre>
<pre><code>## Warning: 27 parsing failures.
## row col  expected    actual            file
##   1  -- 1 columns 7 columns &#39;data/mess.csv&#39;
##   2  -- 1 columns 7 columns &#39;data/mess.csv&#39;
##   3  -- 1 columns 7 columns &#39;data/mess.csv&#39;
##   4  -- 1 columns 7 columns &#39;data/mess.csv&#39;
##   5  -- 1 columns 7 columns &#39;data/mess.csv&#39;
## ... ... ......... ......... ...............
## See problems(...) for more details.</code></pre>
<p>You'll get a warning with many parsing errors and <code>mess</code> is just a single column of the word "junk". View the file <code>data/mess.csv</code> by clicking on it in the File pane, and choosing "View File". Here are the first 10 lines. What went wrong?</p>
<pre><code>This is my messy dataset

junk,order,score,letter,good,min_max,date
junk,1,-1,a,1,1 - 2,2020-01-1

junk,missing,0.72,b,1,2 - 3,2020-01-2

junk,3,-0.62,c,FALSE,3 - 4,2020-01-3

junk,4,2.03,d,T,4 - 5,2020-01-4</code></pre>
<p>First, the file starts with a note: "This is my messy dataset". We want to skip the first two lines. You can do this with the argument <code>skip</code> in <code>read_csv()</code>.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="data.html#cb195-1" aria-hidden="true" tabindex="-1"></a>mess <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/mess.csv&quot;</span>, <span class="at">skip =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## 
##  Column specification 
## cols(
##   junk = col_character(),
##   order = col_character(),
##   score = col_double(),
##   letter = col_character(),
##   good = col_character(),
##   min_max = col_character(),
##   date = col_character()
## )</code></pre>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="data.html#cb197-1" aria-hidden="true" tabindex="-1"></a>mess</span></code></pre></div>
<pre><code>## # A tibble: 26 x 7
##    junk  order   score letter good  min_max date      
##    &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;     
##  1 junk  1       -1    a      1     1 - 2   2020-01-1 
##  2 junk  missing  0.72 b      1     2 - 3   2020-01-2 
##  3 junk  3       -0.62 c      FALSE 3 - 4   2020-01-3 
##  4 junk  4        2.03 d      T     4 - 5   2020-01-4 
##  5 junk  5       NA    e      1     5 - 6   2020-01-5 
##  6 junk  6        0.99 f      0     6 - 7   2020-01-6 
##  7 junk  7        0.03 g      T     7 - 8   2020-01-7 
##  8 junk  8        0.67 h      TRUE  8 - 9   2020-01-8 
##  9 junk  9        0.57 i      1     9 - 10  2020-01-9 
## 10 junk  10       0.9  j      T     10 - 11 2020-01-10
## #  with 16 more rows</code></pre>
<p>OK, that's a little better, but this table is still a serious mess in several ways:</p>
<ul>
<li><code>junk</code> is a column that we don't need</li>
<li><code>order</code> should be an integer column</li>
<li><code>good</code> should be a logical column</li>
<li><code>good</code> uses all kinds of different ways to record TRUE and FALSE values</li>
<li><code>min_max</code> contains two pieces of numeric information, but is a character column</li>
<li><code>date</code> should be a date column</li>
</ul>
<p>We'll learn how to deal with this mess in the chapters on <a href="tidyr.html#tidyr">tidy data</a> and <a href="dplyr.html#dplyr">data wrangling</a>, but we can fix a few things by setting the <code>col_types</code> argument in <code>read_csv()</code> to specify the column types for our two columns that were guessed wrong and skip the "junk" column. The argument <code>col_types</code> takes a list where the name of each item in the list is a column name and the value is from the table below. You can use the function, like <code>col_double()</code> or the abbreviation, like <code>"l"</code>. Omitted column names are guessed.</p>
<table>
<thead>
<tr class="header">
<th align="left">function</th>
<th align="left"></th>
<th align="left">abbreviation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">col_logical()</td>
<td align="left">l</td>
<td align="left">logical values</td>
</tr>
<tr class="even">
<td align="left">col_integer()</td>
<td align="left">i</td>
<td align="left">integer values</td>
</tr>
<tr class="odd">
<td align="left">col_double()</td>
<td align="left">d</td>
<td align="left">numeric values</td>
</tr>
<tr class="even">
<td align="left">col_character()</td>
<td align="left">c</td>
<td align="left">strings</td>
</tr>
<tr class="odd">
<td align="left">col_factor(levels, ordered)</td>
<td align="left">f</td>
<td align="left">a fixed set of values</td>
</tr>
<tr class="even">
<td align="left">col_date(format = "")</td>
<td align="left">D</td>
<td align="left">with the locale's date_format</td>
</tr>
<tr class="odd">
<td align="left">col_time(format = "")</td>
<td align="left">t</td>
<td align="left">with the locale's time_format</td>
</tr>
<tr class="even">
<td align="left">col_datetime(format = "")</td>
<td align="left">T</td>
<td align="left">ISO8601 date time</td>
</tr>
<tr class="odd">
<td align="left">col_number()</td>
<td align="left">n</td>
<td align="left">numbers containing the grouping_mark</td>
</tr>
<tr class="even">
<td align="left">col_skip()</td>
<td align="left">_, -</td>
<td align="left">don't import this column</td>
</tr>
<tr class="odd">
<td align="left">col_guess()</td>
<td align="left">?</td>
<td align="left">parse using the "best" type based on the input</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="data.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># omitted values are guessed</span></span>
<span id="cb199-2"><a href="data.html#cb199-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ?col_date for format options</span></span>
<span id="cb199-3"><a href="data.html#cb199-3" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb199-4"><a href="data.html#cb199-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">junk =</span> <span class="st">&quot;-&quot;</span>, <span class="co"># skip this column</span></span>
<span id="cb199-5"><a href="data.html#cb199-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">order =</span> <span class="st">&quot;i&quot;</span>,</span>
<span id="cb199-6"><a href="data.html#cb199-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">good =</span> <span class="st">&quot;l&quot;</span>,</span>
<span id="cb199-7"><a href="data.html#cb199-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">date =</span> <span class="fu">col_date</span>(<span class="at">format =</span> <span class="st">&quot;%Y-%m-%d&quot;</span>)</span>
<span id="cb199-8"><a href="data.html#cb199-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb199-9"><a href="data.html#cb199-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb199-10"><a href="data.html#cb199-10" aria-hidden="true" tabindex="-1"></a>tidier <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/mess.csv&quot;</span>, </span>
<span id="cb199-11"><a href="data.html#cb199-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">skip =</span> <span class="dv">2</span>,</span>
<span id="cb199-12"><a href="data.html#cb199-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">col_types =</span> ct)</span></code></pre></div>
<pre><code>## Warning: 1 parsing failure.
## row   col   expected  actual            file
##   2 order an integer missing &#39;data/mess.csv&#39;</code></pre>
<p>You will get a message about "1 parsing failure" when you run this. Warnings look scary at first, but always start by reading the message. The table tells you what row (<code>2</code>) and column (<code>order</code>) the error was found in, what kind of data was expected (<code>integer</code>), and what the actual value was (<code>missing</code>). If you specifically tell <code>read_csv()</code> to import a column as an integer, any characters in the column will produce a warning like this and then be recorded as <code>NA</code>. You can manually set what the missing values are recorded as with the <code>na</code> argument.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="data.html#cb201-1" aria-hidden="true" tabindex="-1"></a>tidiest <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/mess.csv&quot;</span>, </span>
<span id="cb201-2"><a href="data.html#cb201-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">skip =</span> <span class="dv">2</span>,</span>
<span id="cb201-3"><a href="data.html#cb201-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">na =</span> <span class="st">&quot;missing&quot;</span>,</span>
<span id="cb201-4"><a href="data.html#cb201-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">col_types =</span> ct)</span></code></pre></div>
<p>Now <code>order</code> is an integer where "missing" is now <code>NA</code>, <code>good</code> is a logical value, where <code>0</code> and <code>F</code> are converted to <code>FALSE</code> and <code>1</code> and <code>T</code> are converted to <code>TRUE</code>, and <code>date</code> is a date type (adding leading zeros to the day). We'll learn in later chapters how to fix the other problems.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="data.html#cb202-1" aria-hidden="true" tabindex="-1"></a>tidiest</span></code></pre></div>
<pre><code>## # A tibble: 26 x 6
##    order score letter good  min_max date      
##    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;lgl&gt; &lt;chr&gt;   &lt;date&gt;    
##  1     1 -1    a      TRUE  1 - 2   2020-01-01
##  2    NA 0.72  b      TRUE  2 - 3   2020-01-02
##  3     3 -0.62 c      FALSE 3 - 4   2020-01-03
##  4     4 2.03  d      TRUE  4 - 5   2020-01-04
##  5     5 NA    e      TRUE  5 - 6   2020-01-05
##  6     6 0.99  f      FALSE 6 - 7   2020-01-06
##  7     7 0.03  g      TRUE  7 - 8   2020-01-07
##  8     8 0.67  h      TRUE  8 - 9   2020-01-08
##  9     9 0.57  i      TRUE  9 - 10  2020-01-09
## 10    10 0.9   j      TRUE  10 - 11 2020-01-10
## #  with 16 more rows</code></pre>
</div>
<div id="glossary-data" class="section level2" number="3.8">
<h2><span class="header-section-number">3.8</span> Glossary</h2>
<table>
<colgroup>
<col width="50%" />
<col width="49%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="left">definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/b#base.r'>base r</a></td>
<td align="left">The set of R functions that come with a basic installation of R, before you add external packages</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/c#character'>character</a></td>
<td align="left">A data type representing strings of text.</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/c#csv'>csv</a></td>
<td align="left">Comma-separated variable: a file type for representing data where each variable is separated from the next by a comma.</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/d#data.type'>data type</a></td>
<td align="left">The kind of data represented by an object.</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/d#deviation.score'>deviation score</a></td>
<td align="left">A score minus the mean</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/d#double'>double</a></td>
<td align="left">A data type representing a real decimal number</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/e#escape'>escape</a></td>
<td align="left">Include special characters like " inside of a string by prefacing them with a backslash.</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/e#extension'>extension</a></td>
<td align="left">The end part of a file name that tells you what type of file it is (e.g., .R or .Rmd).</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/e#extract.operator'>extract operator</a></td>
<td align="left">A symbol used to get values from a container object, such as [, [[, or $</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/f#factor'>factor</a></td>
<td align="left">A data type where a specific set of values are stored with labels; An explanatory variable manipulated by the experimenter</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/g#global.environment'>global environment</a></td>
<td align="left">The interactive workspace where your script runs</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/i#integer'>integer</a></td>
<td align="left">A data type representing whole numbers.</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/l#list'>list</a></td>
<td align="left">A container data type that allows items with different data types to be grouped together.</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/l#logical'>logical</a></td>
<td align="left">A data type representing TRUE or FALSE values.</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/n#numeric'>numeric</a></td>
<td align="left">A data type representing a real decimal number or integer.</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/o#operator'>operator</a></td>
<td align="left">A symbol that performs a mathematical operation, such as +, -, *, /</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/t#tabular.data'>tabular data</a></td>
<td align="left">Data in a rectangular table format, where each row has an entry for each column.</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/t#tidy.data'>tidy data</a></td>
<td align="left">A format for data that maps the meaning onto the structure.</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/t#tidyverse'>tidyverse</a></td>
<td align="left">A set of R packages that help you create and work with tidy data</td>
</tr>
<tr class="even">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/v#vector'>vector</a></td>
<td align="left">A type of data structure that is basically a list of things like T/F values, numbers, or strings.</td>
</tr>
<tr class="odd">
<td align="left"><a class='glossary' target='_blank' href='https://psyteachr.github.io/glossary/v#vectorized'>vectorized</a></td>
<td align="left">An operator or function that acts on each element in a vector</td>
</tr>
</tbody>
</table>
</div>
<div id="exercises-data" class="section level2" number="3.9">
<h2><span class="header-section-number">3.9</span> Exercises</h2>
<p>Download the <a href="exercises/03_data_exercise.Rmd">exercises</a>. See the <a href="exercises/03_data_answers.Rmd">answers</a> only after you've attempted all the questions.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="data.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run this to access the exercise</span></span>
<span id="cb204-2"><a href="data.html#cb204-2" aria-hidden="true" tabindex="-1"></a>reprores<span class="sc">::</span><span class="fu">exercise</span>(<span class="dv">3</span>)</span>
<span id="cb204-3"><a href="data.html#cb204-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-4"><a href="data.html#cb204-4" aria-hidden="true" tabindex="-1"></a><span class="co"># run this to access the answers</span></span>
<span id="cb204-5"><a href="data.html#cb204-5" aria-hidden="true" tabindex="-1"></a>reprores<span class="sc">::</span><span class="fu">exercise</span>(<span class="dv">3</span>, <span class="at">answers =</span> <span class="cn">TRUE</span>)</span></code></pre></div>

</div>
</div>
<div class="psyteachr_footer">
  
</div>
<script>

/* update total correct if #total_correct exists */
update_total_correct = function() {
  if (t = document.getElementById("total_correct")) {
    t.innerHTML =
      document.getElementsByClassName("correct").length + " of " +
      document.getElementsByClassName("solveme").length + " correct";
  }
}

/* solution button toggling function */
b_func = function() {
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "");
  }
  
  if (my_answer !== "" & real_answers.includes(my_answer)) {
    cl.add("correct");
  } else {
    cl.remove("correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol){
    var tol = JSON.parse(this.dataset.tol);  
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("correct");
    } else {
      cl.remove("correct");
    }  
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("correct");
    }  
  }
  
  update_total_correct();
}

window.onload = function() {
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('solution')) {
      buttons[i].onclick = b_func;
    }
  }
  
  /* set up solveme inputs */
  var solveme = document.getElementsByClassName("solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off"); 
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";
    
    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;
    
    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="ggplot.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="joins.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
